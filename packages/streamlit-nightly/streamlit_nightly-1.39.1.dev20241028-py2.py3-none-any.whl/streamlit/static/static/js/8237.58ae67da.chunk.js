"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[8237],{78237:(e,l,o)=>{o.r(l),o.d(l,{default:()=>w});var t=o(58878),r=o(8151),i=o(43978),c=o(29669),n=o(55516),a=o(25571),s=o(34752),d=o(37638),p=o.n(d),u=o(16795),f=o(58144),m=o(67253),h=o(84996);function g(e,l,o){return e=function(e,l){return(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll("#000032",(0,u.$E)(l))).replaceAll("#000033",(0,u.pf)(l))).replaceAll("#000034",(0,u.h7)(l))).replaceAll("#000035",(0,u.V9)(l))).replaceAll("#000036",(0,u.lH)(l))).replaceAll("#000037",(0,u.ZA)(l))).replaceAll("#000038",l.colors.bgColor)).replaceAll("#000039",l.colors.fadedText05)).replaceAll("#000040",l.colors.bgMix)}(e,l),e=function(e,l,o){const t="#000001",r="#000002",i="#000003",c="#000004",n="#000005",a="#000006",s="#000007",d="#000008",p="#000009",f="#000010";if("streamlit"===o){const o=(0,u.c6)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(i,o[2])).replaceAll(c,o[3])).replaceAll(n,o[4])).replaceAll(a,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(f,o[9])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#636efa")).replaceAll(r,"#EF553B")).replaceAll(i,"#00cc96")).replaceAll(c,"#ab63fa")).replaceAll(n,"#FFA15A")).replaceAll(a,"#19d3f3")).replaceAll(s,"#FF6692")).replaceAll(d,"#B6E880")).replaceAll(p,"#FF97FF")).replaceAll(f,"#FECB52");return e}(e,l,o),e=function(e,l,o){const t="#000011",r="#000012",i="#000013",c="#000014",n="#000015",a="#000016",s="#000017",d="#000018",p="#000019",f="#000020";if("streamlit"===o){const o=(0,u.rp)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(i,o[2])).replaceAll(c,o[3])).replaceAll(n,o[4])).replaceAll(a,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(f,o[9])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#0d0887")).replaceAll(r,"#46039f")).replaceAll(i,"#7201a8")).replaceAll(c,"#9c179e")).replaceAll(n,"#bd3786")).replaceAll(a,"#d8576b")).replaceAll(s,"#ed7953")).replaceAll(d,"#fb9f3a")).replaceAll(p,"#fdca26")).replaceAll(f,"#f0f921");return e}(e,l,o),e=function(e,l,o){const t="#000021",r="#000022",i="#000023",c="#000024",n="#000025",a="#000026",s="#000027",d="#000028",p="#000029",f="#000030",m="#000031";if("streamlit"===o){const o=(0,u.vk)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(i,o[2])).replaceAll(c,o[3])).replaceAll(n,o[4])).replaceAll(a,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(f,o[9])).replaceAll(m,o[10])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#8e0152")).replaceAll(r,"#c51b7d")).replaceAll(i,"#de77ae")).replaceAll(c,"#f1b6da")).replaceAll(n,"#fde0ef")).replaceAll(a,"#f7f7f7")).replaceAll(s,"#e6f5d0")).replaceAll(d,"#b8e186")).replaceAll(p,"#7fbc41")).replaceAll(f,"#4d9221")).replaceAll(m,"#276419");return e}(e,l,o),e}function y(e,l){try{!function(e,l){const{genericFonts:o,colors:t,fontSizes:r}=l,i={font:{color:(0,u.lH)(l),family:o.bodyFont,size:r.twoSmPx},title:{color:t.headingColor,subtitleColor:t.bodyText,font:{family:o.headingFont,size:(0,f.BY)(r.md),color:t.headingColor},pad:{l:(0,f.BY)(l.spacing.twoXS)},xanchor:"left",x:0},legend:{title:{font:{size:r.twoSmPx,color:(0,u.lH)(l)},side:"top"},valign:"top",bordercolor:t.transparent,borderwidth:0,font:{size:r.twoSmPx,color:(0,u.ZA)(l)}},paper_bgcolor:t.bgColor,plot_bgcolor:t.bgColor,yaxis:{ticklabelposition:"outside",zerolinecolor:(0,u.V9)(l),title:{font:{color:(0,u.lH)(l),size:r.smPx},standoff:(0,f.BY)(l.spacing.twoXL)},tickcolor:(0,u.V9)(l),tickfont:{color:(0,u.lH)(l),size:r.twoSmPx},gridcolor:(0,u.V9)(l),minor:{gridcolor:(0,u.V9)(l)},automargin:!0},xaxis:{zerolinecolor:(0,u.V9)(l),gridcolor:(0,u.V9)(l),showgrid:!1,tickfont:{color:(0,u.lH)(l),size:r.twoSmPx},tickcolor:(0,u.V9)(l),title:{font:{color:(0,u.lH)(l),size:r.smPx},standoff:(0,f.BY)(l.spacing.xl)},minor:{gridcolor:(0,u.V9)(l)},zeroline:!1,automargin:!0,rangeselector:{bgcolor:t.bgColor,bordercolor:(0,u.V9)(l),borderwidth:1,x:0}},margin:{pad:(0,f.BY)(l.spacing.sm),r:0,l:0},hoverlabel:{bgcolor:t.bgColor,bordercolor:t.borderColor,font:{color:(0,u.lH)(l),family:o.bodyFont,size:r.twoSmPx}},coloraxis:{colorbar:{thickness:16,xpad:(0,f.BY)(l.spacing.twoXL),ticklabelposition:"outside",outlinecolor:t.transparent,outlinewidth:8,len:.75,y:.5745,title:{font:{color:(0,u.lH)(l),size:r.smPx}},tickfont:{color:(0,u.lH)(l),size:r.twoSmPx}}},ternary:{gridcolor:(0,u.lH)(l),bgcolor:t.bgColor,title:{font:{family:o.bodyFont,size:r.smPx}},color:(0,u.lH)(l),aaxis:{gridcolor:(0,u.lH)(l),linecolor:(0,u.lH)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}},baxis:{linecolor:(0,u.lH)(l),gridcolor:(0,u.lH)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}},caxis:{linecolor:(0,u.lH)(l),gridcolor:(0,u.lH)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}}}};p()(e,i)}(e.layout.template.layout,l)}catch(o){const e=(0,m.$)(o);(0,h.vV)(e)}"title"in e.layout&&(e.layout.title=p()(e.layout.title,{text:`<b>${e.layout.title.text}</b>`}))}var A=o(90782);const x={width:600,height:470,name:"fullscreen-expand",path:"M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"},b={width:600,height:470,name:"fullscreen-collapse",path:"M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"};function v(e,l,o){const t=JSON.parse(g(JSON.stringify(e),o,l));return"streamlit"===l?y(t,o):t.layout=function(e,l){const{colors:o,genericFonts:t}=l,r={font:{color:o.bodyText,family:t.bodyFont},paper_bgcolor:o.bgColor,plot_bgcolor:o.secondaryBg};return{...e,font:{...r.font,...e.font},paper_bgcolor:e.paper_bgcolor||r.paper_bgcolor,plot_bgcolor:e.plot_bgcolor||r.plot_bgcolor}}(t.layout,o),t}function S(e,l,o,t){if(!e)return;const r={selection:{points:[],point_indices:[],box:[],lasso:[]}},i=new Set,n=[],s=[],d=[],{selections:p,points:u}=e;if(u&&u.forEach((function(e){d.push({...e,legendgroup:e.data.legendgroup||void 0,data:void 0,fullData:void 0}),(0,a.se)(e.pointIndex)&&i.add(e.pointIndex),(0,a.se)(e.pointIndices)&&e.pointIndices.length>0&&e.pointIndices.forEach((e=>i.add(e)))})),p&&p.forEach((e=>{if("rect"===e.type){const l=function(e){return"x0"in e&&"x1"in e&&"y0"in e&&"y1"in e?{x:[e.x0,e.x1],y:[e.y0,e.y1]}:{x:[],y:[]}}(e),o={xref:e.xref,yref:e.yref,x:l.x,y:l.y};n.push(o)}if("path"===e.type){const l=function(e){if(""===e)return{x:[],y:[]};const l=e.replace("M","").replace("Z","").split("L"),o=[],t=[];return l.forEach((e=>{const[l,r]=e.split(",").map(Number);o.push(l),t.push(r)})),{x:o,y:t}}(e.path),o={xref:e.xref,yref:e.yref,x:l.x,y:l.y};s.push(o)}})),r.selection.point_indices=Array.from(i),r.selection.points=d.map((e=>(0,a.wJ)(e))),r.selection.box=n,r.selection.lasso=s,r.selection.box.length>0&&!o.selectionMode.includes(c.P_.SelectionMode.BOX))return;if(r.selection.lasso.length>0&&!o.selectionMode.includes(c.P_.SelectionMode.LASSO))return;const f=l.getStringValue(o),m=JSON.stringify(r);f!==m&&l.setStringValue(o,m,{fromUi:!0},t)}const w=(0,n.A)((function(e){var l,o,n,a,d;let{element:p,width:u,height:f,widgetMgr:m,disabled:h,fragmentId:g,isFullScreen:y,expand:w,collapse:F,disableFullscreenMode:M}=e;const C=(0,r.u)(),z=(0,t.useMemo)((()=>p.spec?JSON.parse(p.spec):{layout:{},data:[],frames:void 0}),[p.id,p.spec]),[H,k]=(0,t.useState)((()=>{const e=m.getElementState(p.id,"figure");return e||v(z,p.theme,C)})),V=p.selectionMode.length>0&&!h,_=V&&p.selectionMode.includes(c.P_.SelectionMode.LASSO),P=V&&p.selectionMode.includes(c.P_.SelectionMode.BOX),B=V&&p.selectionMode.includes(c.P_.SelectionMode.POINTS),E=(0,t.useMemo)((()=>{if(!p.config)return{};const e=JSON.parse(p.config);var l;M||(e.modeBarButtonsToAdd=[{name:y?"Close fullscreen":"Fullscreen",icon:y?b:x,click:()=>{y&&F?F():w&&w()}},...null!==(l=e.modeBarButtonsToAdd)&&void 0!==l?l:[]]);if(!e.modeBarButtonsToRemove){e.displaylogo=!1;const l=["sendDataToCloud"];V?(_||l.push("lasso2d"),P||l.push("select2d")):l.push("lasso2d","select2d"),e.modeBarButtonsToRemove=l}return e}),[p.id,p.config,y,M,V,_,P,F,w]);(0,t.useEffect)((()=>{k((e=>v(e,p.theme,C)))}),[p.id,C,p.theme]),(0,t.useEffect)((()=>{let e=z.layout.clickmode,l=z.layout.hovermode,o=z.layout.dragmode;h?(e="none",o="pan"):V&&(z.layout.clickmode||(e=B?"event+select":"none"),z.layout.hovermode||(l="closest"),z.layout.dragmode||(o=B?"pan":P?"select":_?"lasso":"pan")),k((t=>t.layout.clickmode===e&&t.layout.hovermode===l&&t.layout.dragmode===o?t:{...t,layout:{...t.layout,clickmode:e,hovermode:l,dragmode:o}}))}),[p.id,V,B,P,_,h]);let I=-1===u?null===(l=H.layout)||void 0===l?void 0:l.width:Math.max(p.useContainerWidth?u:Math.min(null!==(o=z.layout.width)&&void 0!==o?o:u,u),150),L=z.layout.height;y&&(I=u,L=f),H.layout.height===L&&H.layout.width===I||k((e=>({...e,layout:{...e.layout,height:L,width:I}})));const O=(0,t.useCallback)((e=>{S(e,m,p,g)}),[p.id,m,g]),N=(0,t.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!function(e,l,o){const t=e.getStringValue(l),r=JSON.stringify({selection:{points:[],point_indices:[],box:[],lasso:[]}});t!==r&&e.setStringValue(l,r,{fromUi:!0},o)}(m,p,g),e&&setTimeout((()=>{k((e=>({...e,data:e.data.map((e=>({...e,selectedpoints:null}))),layout:{...e.layout,selections:[]}})))}),50)}),[p.id,m,g]);return(0,t.useEffect)((()=>{if(!p.formId||!V)return;const e=new s.o;return e.manageFormClearListener(m,p.formId,N),()=>{e.disconnect()}}),[p.formId,m,V,N]),(0,t.useEffect)((()=>{var e,l,o;if(!V)return;let t;t="select"===(null===(e=H.layout)||void 0===e?void 0:e.dragmode)||"lasso"===(null===(l=H.layout)||void 0===l?void 0:l.dragmode)?"event":B?"event+select":"none",(null===(o=H.layout)||void 0===o?void 0:o.clickmode)!==t&&k((e=>({...e,layout:{...e.layout,clickmode:t}})))}),[null===(n=H.layout)||void 0===n?void 0:n.dragmode]),(0,A.jsx)("div",{className:"stPlotlyChart","data-testid":"stPlotlyChart",children:(0,A.jsx)(i.A,{data:H.data,layout:H.layout,config:E,frames:null!==(a=H.frames)&&void 0!==a?a:void 0,style:{visibility:void 0===(null===(d=H.layout)||void 0===d?void 0:d.width)?"hidden":void 0},onSelected:V?O:()=>{},onDoubleClick:V?()=>N():void 0,onDeselect:V?()=>{N(!1)}:void 0,onInitialized:e=>{m.setElementState(p.id,"figure",e)},onUpdate:e=>{m.setElementState(p.id,"figure",e),k(e)}},y?"fullscreen":"original")})}),!0)},55516:(e,l,o)=>{o.d(l,{A:()=>m});var t=o(58878),r=o(53124),i=o.n(r),c=o(41514),n=o(67214),a=o(64611),s=o(98226),d=o(4883),p=o(90782);const u=e=>{let{children:l,width:o,height:t,disableFullscreenMode:r}=e;const{expanded:i,fullHeight:u,fullWidth:f,zoomIn:m,zoomOut:h}=(0,s.H)();let g=c.u,y=m,A="View fullscreen";return i&&(g=n.Q,y=h,A="Exit fullscreen"),(0,p.jsxs)(d.g,{isExpanded:i,"data-testid":"stFullScreenFrame",children:[!r&&(0,p.jsx)(d.j,{"data-testid":"StyledFullScreenButton",onClick:y,title:A,isExpanded:i,children:(0,p.jsx)(a.A,{content:g})}),l({width:i?f:o,height:i?u:t,expanded:i,expand:m,collapse:h})]})},f=(0,t.memo)(u);const m=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=(0,t.memo)((function(o){const{width:t,height:r,disableFullscreenMode:i}=o;return(0,p.jsx)(f,{width:t,height:r,disableFullscreenMode:l||i,children:l=>{let{width:t,height:r,expanded:i,expand:c,collapse:n}=l;return(0,p.jsx)(e,{...o,width:t,height:r,isFullScreen:i,expand:c,collapse:n})}})}));return o.displayName=`withFullScreenWrapper(${e.displayName||e.name})`,i()(o,e)}},34752:(e,l,o)=>{o.d(l,{X:()=>c,o:()=>i});var t=o(58878),r=o(25571);class i{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,l,o){(0,r.se)(this.formClearListener)&&this.lastWidgetMgr===e&&this.lastFormId===l||(this.disconnect(),(0,r._L)(l)&&(this.formClearListener=e.addFormClearedListener(l,o),this.lastWidgetMgr=e,this.lastFormId=l))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}function c(e){let{element:l,widgetMgr:o,onFormCleared:i}=e;(0,t.useEffect)((()=>{if(!(0,r._L)(l.formId))return;const e=o.addFormClearedListener(l.formId,i);return()=>{e.disconnect()}}),[l,o,i])}}}]);