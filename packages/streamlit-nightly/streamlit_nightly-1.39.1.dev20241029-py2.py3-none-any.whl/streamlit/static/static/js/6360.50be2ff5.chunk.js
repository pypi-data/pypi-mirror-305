"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[6360],{36360:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var a=r(58878),o=r(17643),i=r.n(o),n=r(8151),l=r(64942),d=r(754),s=r(41639),u=r(25571),g=r(3101),m=r(70474),c=r(78286),f=r(93480),p=r(997),h=r(90782);const v="YYYY/MM/DD";function b(e){return e.map((e=>new Date(e)))}function C(e){var t;let{disabled:r,element:o,widgetMgr:C,width:I,fragmentId:F}=e;const[k,D]=(0,g.t)({getStateFromWidgetMgr:S,getDefaultStateFromProto:y,getCurrStateFromProto:W,updateWidgetMgrState:M,element:o,widgetMgr:C,fragmentId:F}),[L,w]=(0,a.useState)(!1),{colors:x,fontSizes:$,lineHeights:A,spacing:R,sizes:j}=(0,n.u)(),z={width:I},U=i()(o.min,v).toDate(),_=function(e){const t=e.max;return t&&t.length>0?i()(t,v).toDate():void 0}(o),B=0===o.default.length&&!r,P=(0,a.useMemo)((()=>o.format.replaceAll(/[a-zA-Z]/g,"9")),[o.format]),H=(0,a.useMemo)((()=>o.format.replaceAll("Y","y").replaceAll("D","d")),[o.format]),T=(0,a.useCallback)((e=>{let{date:t}=e;if((0,u.hX)(t))return D({value:[],fromUi:!0}),void w(!0);const r=[];Array.isArray(t)?t.forEach((e=>{e&&r.push(e)})):r.push(t),D({value:r,fromUi:!0}),w(!r)}),[D]),V=(0,a.useCallback)((()=>{if(!L)return;const e=b(o.default);D({value:e,fromUi:!0}),w(!e)}),[L,o,D]);return(0,h.jsxs)("div",{className:"stDateInput","data-testid":"stDateInput",style:z,children:[(0,h.jsx)(m.L,{label:o.label,disabled:r,labelVisibility:(0,u.yv)(null===(t=o.labelVisibility)||void 0===t?void 0:t.value),children:o.help&&(0,h.jsx)(c.j,{children:(0,h.jsx)(f.A,{content:o.help,placement:p.W.TOP_RIGHT})})}),(0,h.jsx)(l.A,{density:d.fY.high,formatString:H,mask:o.isRange?`${P} \u2013 ${P}`:P,placeholder:o.isRange?`${o.format} \u2013 ${o.format}`:o.format,disabled:r,onChange:T,onClose:V,overrides:{Popover:{props:{placement:s.El.bottomLeft,overrides:{Body:{style:{border:`${j.borderWidth} solid ${x.borderColor}`}}}}},CalendarContainer:{style:{fontSize:$.sm,paddingRight:R.sm,paddingLeft:R.sm,paddingBottom:R.sm,paddingTop:R.sm}},Week:{style:{fontSize:$.sm}},Day:{style:e=>{let{$pseudoHighlighted:t,$pseudoSelected:r,$selected:a,$isHovered:o}=e;return{fontSize:$.sm,lineHeight:A.base,"::before":{backgroundColor:a||r||t||o?`${x.secondaryBg} !important`:x.transparent},"::after":{borderColor:x.transparent}}}},PrevButton:{style:()=>({display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:x.transparent},":focus":{backgroundColor:x.transparent,outline:0}})},NextButton:{style:{display:"flex",alignItems:"center",justifyContent:"center",":active":{backgroundColor:x.transparent},":focus":{backgroundColor:x.transparent,outline:0}}},Input:{props:{maskChar:null,overrides:{Root:{style:{borderLeftWidth:j.borderWidth,borderRightWidth:j.borderWidth,borderTopWidth:j.borderWidth,borderBottomWidth:j.borderWidth,paddingRight:R.twoXS}},ClearIcon:{props:{overrides:{Svg:{style:{color:x.darkGray,padding:R.threeXS,height:j.clearIconSize,width:j.clearIconSize,":hover":{fill:x.bodyText}}}}}},Input:{style:{paddingRight:R.sm,paddingLeft:R.sm,paddingBottom:R.sm,paddingTop:R.sm,lineHeight:A.inputWidget},props:{"data-testid":"stDateInputField"}}}}}},value:k,minDate:U,maxDate:_,range:o.isRange,clearable:B})]})}function S(e,t){const r=e.getStringArrayValue(t);return b(void 0!==r?r:t.default||[])}function y(e){var t;return null!==(t=b(e.default))&&void 0!==t?t:[]}function W(e){var t;return null!==(t=b(e.value))&&void 0!==t?t:[]}function M(e,t,r,a){var o;t.setStringArrayValue(e,(o=r.value)?o.map((e=>i()(e).format(v))):[],{fromUi:r.fromUi},a)}const I=(0,a.memo)(C)},34752:(e,t,r)=>{r.d(t,{X:()=>n,o:()=>i});var a=r(58878),o=r(25571);class i{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,t,r){(0,o.se)(this.formClearListener)&&this.lastWidgetMgr===e&&this.lastFormId===t||(this.disconnect(),(0,o._L)(t)&&(this.formClearListener=e.addFormClearedListener(t,r),this.lastWidgetMgr=e,this.lastFormId=t))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}function n(e){let{element:t,widgetMgr:r,onFormCleared:i}=e;(0,a.useEffect)((()=>{if(!(0,o._L)(t.formId))return;const e=r.addFormClearedListener(t.formId,i);return()=>{e.disconnect()}}),[t,r,i])}},3101:(e,t,r)=>{r.d(t,{_:()=>n,t:()=>l});var a=r(58878),o=r(34752),i=r(25571);function n(e){let{getStateFromWidgetMgr:t,getDefaultState:r,updateWidgetMgrState:n,element:l,widgetMgr:d,fragmentId:s,onFormCleared:u}=e;const[g,m]=(0,a.useState)((()=>{var e;return null!==(e=t(d,l))&&void 0!==e?e:r(d,l)})),[c,f]=(0,a.useState)({value:g,fromUi:!1});(0,a.useEffect)((()=>{(0,i.hX)(c)||(f(null),m(c.value),n(l,d,c,s))}),[c,n,l,d,s]);const p=(0,a.useCallback)((()=>{f({value:r(d,l),fromUi:!0}),null===u||void 0===u||u()}),[f,l,r,d,u]);return(0,o.X)({widgetMgr:d,element:l,onFormCleared:p}),[g,f]}function l(e){let{getStateFromWidgetMgr:t,getDefaultStateFromProto:r,getCurrStateFromProto:o,updateWidgetMgrState:i,element:l,widgetMgr:d,fragmentId:s,onFormCleared:u}=e;const g=(0,a.useCallback)(((e,t)=>r(t)),[r]),[m,c]=n({getStateFromWidgetMgr:t,getDefaultState:g,updateWidgetMgrState:i,element:l,widgetMgr:d,fragmentId:s,onFormCleared:u});return(0,a.useEffect)((()=>{l.setValue&&(l.setValue=!1,c({value:o(l),fromUi:!1}))}),[l,o,c]),[m,c]}}}]);