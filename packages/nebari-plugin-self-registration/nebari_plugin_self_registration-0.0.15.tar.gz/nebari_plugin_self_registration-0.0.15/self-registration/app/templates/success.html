{% extends "base.html" %} {% block head %}
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<script>
  function handleCopy() {
    // Copy to clipboard only works in secure context
    if (window.isSecureContext) {
      var copyText = document.getElementById("newPassword").textContent;
      navigator.clipboard.writeText(copyText);

      var copyMessage = document.getElementById("copyMessage");
      copyMessage.style.visibility = "visible";
    }
  }
</script>
{% endblock %} {% block content %}
<div class="confirmation">
  <h1 class="mb-8">Account Confirmation</h1>
  <div class="mb-6">
    Congratulations! Your account has been successfully created! Your account
    will expire automatically on
    <span class="font-bold">{{ expiration_date }}</span>.
  </div>
  <div class="mb-6">
    Your temporary password for
    <span class="font-bold">{{ email }}</span> is:
  </div>
  <div class="password-box flex justify-between">
    <span id="newPassword" class="password-content flex justify-start"
      >{{ temporary_password }}</span
    >
    <button
      id="copyButton"
      class="copy-btn flex justify-end"
      onclick="handleCopy()"
    >
      <i class="fa-regular fa-clipboard"></i>
    </button>
  </div>
  <div id="copyMessage" class="text-sm mb-6" style="visibility: hidden">
    Password copied successfully!
  </div>
  <div class="mb-8">
    Please copy the password and log in, after which you will be asked to set a
    new password. Please note, this temporary password cannot be recovered.
  </div>
  <div class="w-[180px]">
    <a href="/" class="btn btn-primary">Login</a>
  </div>
</div>
{% endblock %}
