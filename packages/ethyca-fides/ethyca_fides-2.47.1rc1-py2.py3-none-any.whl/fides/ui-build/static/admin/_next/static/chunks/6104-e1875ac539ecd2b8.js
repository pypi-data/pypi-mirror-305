"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6104],{20133:function(e,n,t){t.d(n,{l:function(){return s}});var r=t(24246);let s=(0,t(6173).IUT)({displayName:"TrashCanSolidIcon",viewBox:"0 0 12 15",path:(0,r.jsx)("path",{d:"M8.37857 1.18083C8.23393 0.892838 7.93661 0.710938 7.6125 0.710938H4.3875C4.06339 0.710938 3.76607 0.892838 3.62143 1.18083L3.42857 1.56094H0.857143C0.383036 1.56094 -1.19209e-07 1.94158 -1.19209e-07 2.41094C-1.19209e-07 2.8803 0.383036 3.26094 0.857143 3.26094H11.1429C11.6162 3.26094 12 2.8803 12 2.41094C12 1.94158 11.6162 1.56094 11.1429 1.56094H8.57143L8.37857 1.18083ZM11.167 4.11094H0.857143V12.6109C0.857143 13.5486 1.62589 14.3109 2.57143 14.3109H9.45268C10.3754 14.3109 11.167 13.5486 11.167 12.6109V4.11094ZM9.02411 6.23594V12.1859C9.02411 12.4197 8.80714 12.6109 8.59554 12.6109C8.33571 12.6109 8.16696 12.4197 8.16696 12.1859V6.23594C8.16696 6.00219 8.33571 5.81094 8.59554 5.81094C8.80714 5.81094 9.02411 6.00219 9.02411 6.23594ZM6.45268 6.23594V12.1859C6.45268 12.4197 6.23571 12.6109 6.02411 12.6109C5.76429 12.6109 5.57143 12.4197 5.57143 12.1859V6.23594C5.57143 6.00219 5.76429 5.81094 6.02411 5.81094C6.23571 5.81094 6.45268 6.00219 6.45268 6.23594ZM3.85714 6.23594V12.1859C3.85714 12.4197 3.66429 12.6109 3.42857 12.6109C3.19286 12.6109 3 12.4197 3 12.1859V6.23594C3 6.00219 3.19286 5.81094 3.42857 5.81094C3.66429 5.81094 3.85714 6.00219 3.85714 6.23594Z",fill:"currentColor"})})},43124:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(24246),s=t(6173),i=t(88038),a=t.n(i),o=t(86677);t(27378);var l=t(11596),u=t(72247),c=t(11032),d=()=>{let e=(0,o.useRouter)();return(0,r.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,r.jsxs)(s.xuv,{children:[(0,r.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,r.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,r.jsx)(s.wpx,{onClick:()=>{e.push(c.fz)},children:"Configure"})]}),(0,r.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:n,title:t,padded:i=!0,mainProps:c}=e,f=(0,l.hz)(),p=(0,o.useRouter)(),h="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,m=!(f.flags.privacyRequestsConfiguration&&h),{data:v}=(0,u.JE)(void 0,{skip:m}),{data:g}=(0,u.PW)(void 0,{skip:m}),x=f.flags.privacyRequestsConfiguration&&(!v||!g)&&h;return(0,r.jsxs)(s.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,r.jsxs)(a(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(s.kCb,{as:"main",direction:"column",py:i?6:0,px:i?10:0,h:i?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[x?(0,r.jsx)(d,{}):null,n]})]})}},38615:function(e,n,t){t.d(n,{Tg:function(){return a}});var r=t(24246),s=t(44296),i=t(96451);let a=e=>(0,s.C)(i.uu).filter(n=>e.includes(n)).length>0;n.ZP=e=>{let{scopes:n,children:t}=e;return a(n)?(0,r.jsx)(r.Fragment,{children:t}):null}},33312:function(e,n,t){var r=t(24246),s=t(6173);n.Z=e=>{let{search:n,onChange:t,withIcon:i,onClear:a,placeholder:o,...l}=e;return(0,r.jsxs)(s.BZy,{size:"sm",minWidth:"308px",children:[i?(0,r.jsx)(s.Z8_,{pointerEvents:"none",children:(0,r.jsx)(s.PTu,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,r.jsx)(s.IIB,{autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:n,name:"search",onChange:e=>t(e.target.value),placeholder:o||"",...l}),a?(0,r.jsx)(s.xHT,{children:(0,r.jsx)(s.wpx,{onClick:a,className:"right-4 shrink-0 rounded-s-none",children:"Clear"})}):null]})}},60136:function(e,n,t){t.d(n,{D4:function(){return i.D4},MM:function(){return f},Ot:function(){return u},c6:function(){return s},cj:function(){return h},e$:function(){return o},fn:function(){return l},iC:function(){return p},nU:function(){return d},tB:function(){return c}});var r,s,i=t(41164);let a="An unexpected error occurred. Please try again.",o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,i.Bw)(e)){if((0,i.hE)(e.data))return e.data.detail;if((0,i.cz)(e.data)){var t;let n=null===(t=e.data.detail)||void 0===t?void 0:t[0];return"".concat(null==n?void 0:n.msg,": ").concat(null==n?void 0:n.loc)}if(409===e.status&&(0,i.Dy)(e.data)||404===e.status&&(0,i.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return n};function l(e){return"object"==typeof e&&null!=e&&"status"in e}function u(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:a};if((0,i.oK)(e))return{status:e.originalStatus,message:e.data};if((0,i.Bw)(e)){let{status:t}=e;return{status:t,message:o(e,n.message)}}return n},f=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(r=s||(s={})).GVL="gvl",r.AC="gacp",r.COMPASS="compass";let p={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},h=e=>{let n=e.split(".")[0];return"gacp"===n?"gacp":"gvl"===n?"gvl":"compass"}},16781:function(e,n,t){t.d(n,{MA:function(){return o},Vo:function(){return u},t5:function(){return l}});var r=t(24246),s=t(6173);let i=e=>{let{children:n}=e;return(0,r.jsxs)(s.xvT,{"data-testid":"toast-success-msg",children:[(0,r.jsx)("strong",{children:"Success:"})," ",n]})},a=e=>{let{children:n}=e;return(0,r.jsxs)(s.xvT,{"data-testid":"toast-error-msg",children:[(0,r.jsx)("strong",{children:"Error:"})," ",n]})},o={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},l=e=>{let n=(0,r.jsx)(i,{children:e});return{...o,description:n}},u=e=>{let n=(0,r.jsx)(a,{children:e});return{...o,description:n,status:"error"}}},72763:function(e,n,t){var r=t(24246),s=t(6173),i=t(34090),a=t(86677);t(27378);var o=t(59389),l=t(44296),u=t(34803),c=t(60136),d=t(11032),f=t(16781),p=t(31756);let h={username:"",usernameConfirmation:""},m=e=>{let{id:n,username:t,onClose:r}=e,i=(0,s.pmc)(),u=(0,a.useRouter)(),h=(0,l.T)(),[m]=(0,p.I1)();return{handleDeleteUser:async()=>{let e=await m(n);(0,c.D4)(e)?i((0,f.Vo)((0,c.e$)(e.error))):(i((0,f.t5)("Successfully deleted user")),r()),h((0,p.Vv)(void 0)),u.push(d.e3)},validationSchema:o.Ry().shape({usernameConfirmation:o.Z_().required().oneOf([t],"Confirmation input must match the username").label("Username confirmation")})}};n.Z=e=>{let{user:n,...t}=e,{isOpen:a,onClose:o}=t,{handleDeleteUser:l,validationSchema:c}=m({id:n.id,username:n.username,onClose:o});return(0,r.jsxs)(s.u_l,{isCentered:!0,isOpen:a,onClose:o,children:[(0,r.jsx)(s.ZAr,{}),(0,r.jsx)(s.hzk,{"data-testid":"delete-user-modal",children:(0,r.jsx)(i.J9,{initialValues:h,validationSchema:c,onSubmit:l,children:e=>{let{isSubmitting:t,dirty:a,isValid:l}=e;return(0,r.jsxs)(i.l0,{children:[(0,r.jsx)(s.xBx,{children:"Delete User"}),(0,r.jsx)(s.olH,{}),(0,r.jsxs)(s.fef,{children:[(0,r.jsxs)(s.bZj,{status:"warning",overflow:"visible",children:[(0,r.jsx)(s.zMQ,{}),(0,r.jsxs)(s.XaZ,{children:[(0,r.jsx)(s.xvT,{as:"span",mb:2,children:"You are about to delete the user\xa0"}),(0,r.jsxs)(s.xvT,{as:"span",mb:2,fontStyle:"italic",fontWeight:"semibold",children:[n.username,"."]}),(0,r.jsx)(s.xvT,{mb:2,children:"This action cannot be undone. To confirm, please enter the userâ€™s username below."})]})]}),(0,r.jsx)(s.Kqy,{direction:"column",spacing:4,children:(0,r.jsx)(u.j0,{name:"usernameConfirmation",label:"Confirm username",placeholder:"Type the username to delete"})})]}),(0,r.jsx)(s.mzw,{children:(0,r.jsxs)("div",{className:"w-full gap-2",children:[(0,r.jsx)(s.wpx,{onClick:o,className:"w-1/2",children:"Cancel"}),(0,r.jsx)(s.wpx,{type:"primary",disabled:!a||!l,loading:t,htmlType:"submit",className:"w-1/2","data-testid":"submit-btn",children:"Delete User"})]})})]})}})})]})}},49646:function(e,n,t){t.d(n,{K:function(){return s}});var r=t(68636);let s=[{label:"Owner",permissions_label:"Owner",roleKey:r.A7.OWNER,description:"Owners have view and edit access to the whole organization and can create new users"},{label:"Contributor",permissions_label:"Contributor",roleKey:r.A7.CONTRIBUTOR,description:"Contributors can create new users and have view and edit access to the whole organization. Contributors cannot configure storage and messaging services"},{label:"Viewer",permissions_label:"Viewer",roleKey:r.A7.VIEWER,description:"Viewers have view access to the Data Map and all systems"},{label:"Viewer & Approver",permissions_label:"Viewer & Approver",roleKey:r.A7.VIEWER_AND_APPROVER,description:"Viewer & Approvers have view access to the Data Map but can also manage Privacy Requests"},{label:"Approver",permissions_label:"Approver",roleKey:r.A7.APPROVER,description:"Approvers can only access the Privacy Requests portal to manage requests"}]},41164:function(e,n,t){t.d(n,{Bw:function(){return a},D4:function(){return s},Dy:function(){return l},XD:function(){return u},cz:function(){return c},hE:function(){return o},oK:function(){return i}});var r=t(76649);let s=e=>"error"in e,i=e=>(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,a=e=>(0,r.Ln)({status:"number",data:{}},e),o=e=>(0,r.Ln)({detail:"string"},e),l=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),u=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)},76649:function(e,n,t){t.d(n,{Ln:function(){return r}});let r=(e,n)=>i(e,n),s=Symbol("SOME"),i=(e,n)=>"string"==typeof e?e===typeof n:Array.isArray(e)?s in e?e.some(e=>i(e,n)):!!Array.isArray(n)&&(0===e.length||n.every(n=>e.some(e=>i(e,n)))):"object"==typeof n&&null!==n&&Object.entries(e).every(([e,t])=>i(t,n[e]));class a{static narrow(e){return new a(n=>r(e,n))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){let n=this.NF,t=e instanceof a?e.NF:e instanceof Function?e:n=>r(e,n);return new a(e=>n(e)&&t(e))}}new a(e=>!0)}}]);