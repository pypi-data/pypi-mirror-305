# Authors: Gregor Boehl [mail@gregorboehl.com], Jose Lores Diz [ldpepe99@gmail.com]
---

name: 'dsge_dnwr'
description: 'A medium scale NK model with capital, capital adjustement costs, capital utilization costs, habits and downward nominal wage rigidity [DNWR].'
variables: [y, c, pi, R, Rn, beta, w, q, mc, k, i, n, hhdf, g, eps_g, MPK, cap_util, cap_util_costs, y_prod, a, u]
parameters: [ theta, kappa, psi, delta, alpha, Phi, phi_pi, phi_y, h, rho, sigma_l, rho_beta, chi, par_cap_util, rho_a, iota, rho_g, rho_u ]
shocks: [e_beta, e_a, e_g, e_u]

equations:
      # households
    ~ 1 = R/piPrime*hhdf
    ~ hhdf = betaPrime*(c - h*cLag)/(cPrime - h*c)

      # DWNR
    ~ w = max(iota*wLag/pi, chi*n**sigma_l*(c - h*cLag))

      # capital
    ~ 1 = q*(1 - Phi/2*(i/iLag - 1)**2 - Phi*(i/iLag - 1)*i/iLag) + hhdf*qPrime*Phi*(iPrime/i - 1)*(iPrime/i)**2
    ~ k = (1-delta)*kLag + (1 - Phi/2*(i/iLag - 1)**2)*i

      # government
    ~ g = eps_g*ySS

      # clearing
    ~ c + i + g + Phi/2*(i/iLag - 1)**2*i + cap_util_costs*kLag = (1-psi*(pi/piSS - 1)**2/2)*y_prod
    ~ c + i + g = y

      # firms
    ~ cap_util_costs = MPKSS*(cap_util - 1) + par_cap_util/(1-par_cap_util)/2*(cap_util - 1)**2
    ~ MPK = MPKSS + par_cap_util/(1-par_cap_util)*(cap_util - 1)
    ~ MPK = alpha*mc*y_prod/(cap_util*kLag)
    ~ q*R/piPrime = MPKPrime*cap_utilPrime + (1-delta)*qPrime - cap_util_costs
    ~ w = (1-alpha)*mc*y_prod/n
    ~ psi*(pi/piSS - 1)*pi/piSS = (1-theta) + theta*mc + psi*hhdf*(piPrime/piSS - 1)*piPrime/piSS*y_prodPrime/y_prod
    ~ y_prod = a*(kLag*cap_util)**alpha*n**(1-alpha)

      # central bank
    ~ Rn = (RSS*((pi/piSS)**phi_pi)*((y/ySS)**phi_y)*u)**(1-rho)*RnLag**rho
    ~ R = max(1, Rn)

      # exogenous
    ~ beta = betaSS*(betaLag/betaSS)**rho_beta*exp(e_beta) # discount factor shock
    ~ a = aSS*(aLag/aSS)**rho_a*exp(e_a) # technology shock
    ~ eps_g = eps_gSS*(eps_gLag/eps_gSS)**rho_g*exp(e_g) # wasteful gvt expenditure shock
    ~ u = uSS*(uLag/uSS)**rho_u*exp(e_u) # monetary policy shock

steady_state:
    fixed_values:
        # parameters:
        theta: 6.
        kappa: 0.975
        psi: 59.11
        delta: 0.025
        alpha: 0.33
        Phi: 5.6
        phi_pi: 1.5
        phi_y: 0.1
        h: .44
        rho: 0.8
        sigma_l: 1.5
        rho_beta: .8
        par_cap_util: 0.8
        rho_a: 0.8
        iota: 1.
        rho_g: 0.8
        rho_u: 0.8

        # steady state
        beta: 0.995
        pi: 1.02^.25
        mc: (theta-1)/theta
        y_prod: 1
        n: 0.33
        eps_g: 0.2
        u: 1
        R: pi/beta
        Rn: R
        cap_util: 1

    init_guesses:
        chi: 5e+1
        MPK: alpha*mc/20
