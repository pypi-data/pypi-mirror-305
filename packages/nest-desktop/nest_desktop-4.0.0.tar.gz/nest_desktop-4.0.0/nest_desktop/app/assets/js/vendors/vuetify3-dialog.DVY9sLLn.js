var J=Object.defineProperty;var _=(t,e,n)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j=(t,e,n)=>_(t,typeof e!="symbol"?e+"":e,n);import"./vue.DgHH_kY-.js";import{e as N,d as $,f,m as v,P as c,A as P,w as tt,g as u,Q as L,o as s,j as C,k as O,t as k,c as q,l as F,F as M,u as S,B as et,h as T,ai as I}from"./@vue.DGZX2uae.js";import{j as nt,I as W,g as Y,k as rt,o as Q,h as it,am as ot,Z as lt,an as at,_ as ct,l as st,V as ut}from"./vuetify.BA4FBFJb.js";const x=class x{constructor(e,n){if(!e)throw new Error("Error during initialization : app is required");if(x.app=e,!e._context.mixins.find(r=>r.computed&&r.computed.$vuetify))throw new Error("Error during initialization : vuetify is required. Please declare it with Vue.use(Vuetify)");n&&(x.pluginOptions=n)}static getPluginOptions(){return x.pluginOptions}static getApp(){return x.app}};j(x,"pluginOptions"),j(x,"app");let d=x;var K=N({__name:"Card",props:{title:{type:String,required:!0},text:{type:String,required:!0},buttons:{type:Array},icon:{type:String,default:""},level:{type:String,default:"info"},cardOptions:{type:Object,default:()=>({})}},emits:["buttonClicked"],setup(t,{emit:e}){const n=t,i=e,r=$(()=>n.buttons&&n.buttons.length>0?n.buttons:[{key:"cancel",title:"Annuler",value:"cancel",color:"grey",variant:"text"},{key:"ok",title:"OK",value:"ok",color:n.level,variant:"tonal"}]),a=$(()=>{if(n.icon)return n.icon;switch(n.level){case"info":return"mdi-information";case"warning":return"mdi-alert";case"error":return"mdi-alert-circle";case"success":return"mdi-check-circle";default:return"mdi-information"}}),o=$(()=>n.level==="info"?"primary":n.level);function l(m){i("buttonClicked",m)}return(m,g)=>(s(),f(c(Q),v({class:"vuetify3-dialog-card"},t.cardOptions),{default:u(()=>[C(c(W),{class:"d-flex align-center"},{default:u(()=>[C(c(nt),{color:o.value,class:"mr-2"},{default:u(()=>[O(k(a.value),1)]),_:1},8,["color"]),O(k(t.title),1)]),_:1}),C(c(Y),null,{default:u(()=>[O(k(t.text),1)]),_:1}),C(c(rt),null,{default:u(()=>[(s(!0),q(M,null,F(r.value,h=>(s(),f(c(st),v({key:h.key},h,{color:h.color||o.value,onClick:w=>l(h.key)}),{default:u(()=>[O(k(h.title),1)]),_:2},1040,["color","onClick"]))),128))]),_:1})]),_:1},16))}});K.__file="src/components/Card.vue";var R=N({__name:"BottomSheet",props:{bottomSheetOptions:{type:Object,default:()=>({})},dialogOptions:{type:Object,required:!1},items:{type:Array,required:!1},title:{type:String,required:!1},text:{type:String,required:!1}},emits:["closeBottomSheet"],setup(t,{emit:e}){const n=t,i=e;let r=P(!0);const a=$(()=>n.items&&n.items.length>0?n.items:[]);tt(()=>r,l=>{l||i("closeBottomSheet")});function o(l){r.value=!1,i("closeBottomSheet",l)}return(l,m)=>(s(),f(c(ot),v({class:"vuetify3-dialog-bottom-sheet"},t.bottomSheetOptions,{modelValue:c(r),"onUpdate:modelValue":m[0]||(m[0]=g=>L(r)?r.value=g:r=g)}),{default:u(()=>[t.dialogOptions?(s(),f(K,v({key:1},t.dialogOptions,{title:t.dialogOptions.title,text:t.dialogOptions.text,onButtonClicked:o}),null,16,["title","text"])):(s(),f(c(Q),{key:0},{default:u(()=>[t.title?(s(),f(c(W),{key:0},{default:u(()=>[O(k(t.title),1)]),_:1})):S("v-if",!0),t.text?(s(),f(c(Y),{key:1},{default:u(()=>[O(k(t.text),1)]),_:1})):S("v-if",!0),t.items?(s(),f(c(it),{key:2},{default:u(()=>[(s(!0),q(M,null,F(a.value,g=>(s(),f(c(ut),{title:g.title,key:g.value,onClick:h=>o(g.value)},null,8,["title","onClick"]))),128))]),_:1})):S("v-if",!0)]),_:1}))]),_:1},16,["modelValue"]))}});R.__file="src/components/BottomSheet.vue";class dt{static initContext(){d.getApp().config.globalProperties.$bottomSheet={create:X,createList:ft}}}function ft(t,e){return t.forEach(n=>{if(!D(n.title))throw new Error("title is required for each item");if(!D(n.value))throw new Error("value is required for each item")}),X({items:t,...e})}function X(t){try{if(t.items&&t.dialogOptions)throw new Error("You can not use items and dialogOptions together");if(t.dialogOptions){if(!D(t.dialogOptions.title))throw new Error("title is required");if(!D(t.dialogOptions.text))throw new Error("text is required")}const e=document.createElement("div");return new Promise((n,i)=>{var o,l;const r={bottomSheetOptions:(t==null?void 0:t.bottomSheetOptions)||((l=(o=d.getPluginOptions())==null?void 0:o.defaults)==null?void 0:l.bottomSheet)||void 0,dialogOptions:t==null?void 0:t.dialogOptions,items:t==null?void 0:t.items,title:t==null?void 0:t.title,text:t==null?void 0:t.text,onCloseBottomSheet:m=>{n(m)}},a=T(R,r);a.appContext=d.getApp()._context,I(a,e)})}catch(e){console.error(`[Vuetify3Dialog] ${e.message} [${e.stack}]`)}}function D(t){return t==null?!1:typeof t=="boolean"?!0:t.trim().length>0&&t!==""}var Z=N({__name:"Dialog",props:{title:{type:String,required:!0},text:{type:String,required:!0},buttons:{type:Array},icon:{type:String,default:""},level:{type:String,default:"info"},cardOptions:{type:Object,default:()=>({})},dialogOptions:{type:Object,default:()=>({})},customComponent:{type:Object,required:!1}},emits:["closeDialog"],setup(t,{emit:e}){const n=e;let i=P(!0);function r(a){i.value=!1,n("closeDialog",a)}return(a,o)=>(s(),f(c(lt),v({class:"vuetify3-dialog-popup",modelValue:c(i),"onUpdate:modelValue":o[0]||(o[0]=l=>L(i)?i.value=l:i=l)},t.dialogOptions),{default:u(()=>[t.customComponent?(s(),f(et(t.customComponent.component),v({key:0},t.customComponent.props,{onCloseDialog:r,ref:"custom-component"}),null,16)):(s(),f(K,v({key:1},t.cardOptions,{title:t.title,text:t.text,buttons:t.buttons,icon:t.icon,level:t.level,onButtonClicked:r}),null,16,["title","text","buttons","icon","level"]))]),_:1},16,["modelValue"]))}});Z.__file="src/components/Dialog.vue";class mt{static initContext(){d.getApp().config.globalProperties.$dialog={create:b,confirm:vt,warn:gt,error:yt,info:ht,success:xt}}}function b(t){try{const e=document.createElement("div");if(t.customComponent)t.title=t.title||"",t.text=t.text||"";else{if(!A(t.title))throw new Error("title is required");if(!A(t.text))throw new Error("text is required")}return t.buttons&&t.buttons.forEach(kt),new Promise((n,i)=>{var o,l,m,g,h,w;const r={title:t.title,text:t.text,buttons:t.buttons,icon:t.icon,level:t.level,customComponent:t.customComponent,dialogOptions:t.dialogOptions||((m=(l=(o=d.getPluginOptions())==null?void 0:o.defaults)==null?void 0:l.dialog)==null?void 0:m.component)||{width:"400px"},cardOptions:t.cardOptions||((w=(h=(g=d.getPluginOptions())==null?void 0:g.defaults)==null?void 0:h.dialog)==null?void 0:w.card)||void 0,onCloseDialog:V=>{n(V)}},a=T(Z,r);a.appContext=d.getApp()._context,I(a,e)})}catch(e){console.error(`[Vuetify3Dialog] ${e.message} [${e.stack}]`)}}function gt(t){return b({title:t.title||"Warning",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"warning",...t.buttonOptions}],level:"warning",cardOptions:t.cardOptions})}function yt(t){return b({title:t.title||"Error",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"error",...t.buttonOptions}],level:"error",cardOptions:t.cardOptions})}function ht(t){return b({title:t.title||"Info",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"info",...t.buttonOptions}],level:"info",cardOptions:t.cardOptions})}function xt(t){return b({title:t.title||"Success",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"success",...t.buttonOptions}],level:"success",cardOptions:t.cardOptions})}function vt(t){return b({title:t.title,text:t.text,buttons:[{key:!1,title:t.cancelText||"Cancel",color:"grey",...t.cancelButtonOptions},{key:!0,title:t.confirmationText||"Confirm",color:"warning",...t.confirmationButtonOptions}],icon:t.icon,level:t.level,cardOptions:t.cardOptions})}function kt(t,e){if(!t)throw new Error(`button at index ${e} is not defined`);if(!A(t.key))throw new Error(`button at index ${e} has no key`);if(!A(t.title))throw new Error(`button at index ${e} has no title`)}function A(t){return t==null?!1:typeof t=="boolean"?!0:t.trim().length>0&&t!==""}const Ot={key:0},bt=["innerHTML"];var G=N({__name:"Snackbar",props:{text:{type:String,required:!1},htmlContent:{type:String,default:!1},location:{type:String,required:!0},level:{type:String,default:"info"},notifyOptions:{type:Object,default:()=>({})}},emits:["closeSnackbar"],setup(t,{emit:e}){const n=e;let i=P(!0);function r(){i.value=!1,n("closeSnackbar")}return(a,o)=>(s(),f(c(ct),null,{default:u(()=>[C(c(at),v({class:"vuetify3-dialog-snackbar"},t.notifyOptions,{modelValue:c(i),"onUpdate:modelValue":[o[0]||(o[0]=l=>L(i)?i.value=l:i=l),o[1]||(o[1]=l=>r())],color:t.level,location:t.location,"location-strategy":"static",dark:t.level==="warning"||t.level==="error"}),{default:u(()=>[t.text?(s(),q("span",Ot,k(t.text),1)):S("v-if",!0),t.htmlContent?(s(),q("div",{key:1,innerHTML:t.htmlContent},null,8,bt)):S("v-if",!0)]),_:1},16,["modelValue","color","location","dark"])]),_:1}))}});G.__file="src/components/Snackbar.vue";class wt{static initContext(){d.getApp().config.globalProperties.$notify={create:E,warn:pt,error:Ct,info:St,success:Et}}}function pt(t,e){return E({text:t,level:"warning",notifyOptions:e})}function Ct(t,e){return E({text:t,level:"error",notifyOptions:e})}function St(t,e){return E({text:t,level:"info",notifyOptions:e})}function Et(t,e){return E({text:t,level:"success",notifyOptions:e})}function E(t){var e,n,i,r;try{const a=t.location||((e=t.notifyOptions)==null?void 0:e.location)||((r=(i=(n=d.getPluginOptions())==null?void 0:n.defaults)==null?void 0:i.notify)==null?void 0:r.location)||"top right";let o=a.split(" ")[0]||"top",l=a.split(" ")[1]||"right",m=document.createElement("div");if(!z(t.text)&&!z(t.htmlContent))throw new Error("text or htmlContent is required");return new Promise((g,h)=>{var H,U;const w={text:t.text,htmlContent:t.htmlContent,level:t.level,location:a,notifyOptions:t.notifyOptions||((U=(H=d.getPluginOptions())==null?void 0:H.defaults)==null?void 0:U.notify)||void 0,onCloseSnackbar:()=>{g(!0)}},V=T(G,w);V.appContext=d.getApp()._context,I(V,m);const y=document.querySelector(".v-overlay-container");let B=0;if((y==null?void 0:y.childElementCount)>1)for(let p of y.children)p===y.lastElementChild||!(p.classList.contains("v-snackbar--"+l)&&p.classList.contains("v-snackbar--"+o))||p.lastElementChild&&(B+=p.lastElementChild.offsetHeight+12);if(B>0)switch(o){case"top":(y==null?void 0:y.lastElementChild).style.marginTop=`${B+12}px`;break;case"bottom":(y==null?void 0:y.lastElementChild).style.marginBottom=`${B+12}px`;break;default:throw new Error("location must be top or bottom")}})}catch(a){console.error(`[Vuetify3Dialog] ${a.message} [${a.stack}]`)}}function z(t){return t!=null&&t.trim().length>0&&t!==""}const Dt={install(t,e){try{new d(t,e),mt.initContext(),wt.initContext(),dt.initContext()}catch(n){console.error(`[Vuetify3Dialog] ${n.message} [${n.stack}]`)}}};export{Dt as V,E as a,b as c,yt as e};
