import{g as Ue}from"../chunks/helpers.A5yhJElF.js";import{s as Re,e as c,t as te,a as y,c as u,b as m,d as ae,f,g as C,p as K,q as d,i as Qe,h as a,w as he,j as we,x as Be,n as ge}from"../chunks/scheduler.rpzzQWFm.js";import{S as He,i as Me,b as se,d as ne,m as le,t as P,c as Oe,a as E,e as re,g as xe}from"../chunks/index.mx9HPA7V.js";import{S as Le}from"../chunks/SimpleTable.pRY_QPGa.js";import{r as qe}from"../chunks/entry.3G61wjjA.js";import{V as Fe}from"../chunks/VegaLite.Z30V0MK_.js";import{I as ze,P as Ae}from"../chunks/Icon.HjRuGJsp.js";import{g as Ge}from"../chunks/stores.Zgx289xP.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.I74cdcab.js";const Je=async({fetch:n,params:e})=>{const{run:l,measurements:t}=await Ue(n,e.id);return{testrun:l,measurements:t,name:e.id}},ct=Object.freeze(Object.defineProperty({__proto__:null,load:Je},Symbol.toStringTag,{value:"Module"}));function Ke(n){let e,l="No Testrun data available.";return{c(){e=c("p"),e.textContent=l},l(t){e=u(t,"P",{"data-svelte-h":!0}),K(e)!=="svelte-eigvvv"&&(e.textContent=l)},m(t,o){Qe(t,e,o)},p:ge,i:ge,o:ge,d(t){t&&f(e)}}}function We(n){let e,l;return e=new Le({props:{data:qe(n[0].measurements)}}),{c(){se(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,o){le(e,t,o),l=!0},p(t,o){const v={};o&1&&(v.data=qe(t[0].measurements)),e.$set(v)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function je(n){let e,l;return e=new Fe({props:{data:n[1],spec:n[0].testrun.data.vega_lite,options:n[3]}}),{c(){se(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,o){le(e,t,o),l=!0},p(t,o){const v={};o&1&&(v.spec=t[0].testrun.data.vega_lite),e.$set(v)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function Xe(n){var Te,ke;let e,l,t,o,v,S=n[0].name+"",q,H,h,z="Export",M,T,k,A,oe,L=((Te=n[0].testrun.data)==null?void 0:Te.quality)+"",W,ie,$,F,D,ce,j,$e="Edit",ue,I,p,_,fe,g,V,be="Visualizations",me,G,b,J,w,de,Q,ye="Edit",X,pe,O,_e,Ce;D=new ze({props:{size:"12",src:Ae}});const Ee=[We,Ke],N=[];function Se(s,i){return s[0].measurements.length>0?0:1}p=Se(n),_=N[p]=Ee[p](n),w=new ze({props:{size:"12",src:Ae}});let r=n[0].measurements.length>0&&n[2]&&((ke=n[0].testrun.data)==null?void 0:ke.vega_lite)&&je(n);return{c(){e=c("div"),l=c("section"),t=c("div"),o=c("h1"),v=te("Testrun "),q=te(S),H=y(),h=c("button"),h.textContent=z,M=y(),T=c("section"),k=c("div"),A=c("p"),oe=te("Result data quality: "),W=te(L),ie=y(),$=c("button"),F=c("span"),se(D.$$.fragment),ce=y(),j=c("span"),j.textContent=$e,ue=y(),I=c("section"),_.c(),fe=y(),g=c("section"),V=c("h2"),V.textContent=be,me=y(),G=c("div"),b=c("a"),J=c("span"),se(w.$$.fragment),de=y(),Q=c("span"),Q.textContent=ye,pe=y(),r&&r.c(),this.h()},l(s){e=u(s,"DIV",{class:!0});var i=m(e);l=u(i,"SECTION",{class:!0});var U=m(l);t=u(U,"DIV",{class:!0});var x=m(t);o=u(x,"H1",{class:!0});var R=m(o);v=ae(R,"Testrun "),q=ae(R,S),R.forEach(f),H=C(x),h=u(x,"BUTTON",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-pewlmc"&&(h.textContent=z),x.forEach(f),U.forEach(f),M=C(i),T=u(i,"SECTION",{class:!0});var Ne=m(T);k=u(Ne,"DIV",{class:!0});var Y=m(k);A=u(Y,"P",{});var ve=m(A);oe=ae(ve,"Result data quality: "),W=ae(ve,L),ve.forEach(f),ie=C(Y),$=u(Y,"BUTTON",{class:!0});var Z=m($);F=u(Z,"SPAN",{});var Pe=m(F);ne(D.$$.fragment,Pe),Pe.forEach(f),ce=C(Z),j=u(Z,"SPAN",{"data-svelte-h":!0}),K(j)!=="svelte-bi7592"&&(j.textContent=$e),Z.forEach(f),Y.forEach(f),Ne.forEach(f),ue=C(i),I=u(i,"SECTION",{class:!0});var De=m(I);_.l(De),De.forEach(f),fe=C(i),g=u(i,"SECTION",{class:!0});var B=m(g);V=u(B,"H2",{class:!0,"data-svelte-h":!0}),K(V)!=="svelte-l5lk04"&&(V.textContent=be),me=C(B),G=u(B,"DIV",{});var Ie=m(G);b=u(Ie,"A",{class:!0,href:!0});var ee=m(b);J=u(ee,"SPAN",{});var Ve=m(J);ne(w.$$.fragment,Ve),Ve.forEach(f),de=C(ee),Q=u(ee,"SPAN",{"data-svelte-h":!0}),K(Q)!=="svelte-bi7592"&&(Q.textContent=ye),ee.forEach(f),Ie.forEach(f),pe=C(B),r&&r.l(B),B.forEach(f),i.forEach(f),this.h()},h(){d(o,"class","h1"),d(h,"class","btn variant-filled"),d(t,"class","flex justify-between"),d(l,"class","space-y-2"),d($,"class","chip variant-soft hover:variant-filled"),d(k,"class","flex space-x-2"),d(T,"class","space-y-2"),d(I,"class","space-y-2"),d(V,"class","h2"),d(b,"class","chip variant-soft hover:variant-filled"),d(b,"href",X="/chart_editor/"+n[0].testrun.id),d(g,"class","space-y-2"),d(e,"class","table-container mx-auto p-8 space-y-8")},m(s,i){Qe(s,e,i),a(e,l),a(l,t),a(t,o),a(o,v),a(o,q),a(t,H),a(t,h),a(e,M),a(e,T),a(T,k),a(k,A),a(A,oe),a(A,W),a(k,ie),a(k,$),a($,F),le(D,F,null),a($,ce),a($,j),a(e,ue),a(e,I),N[p].m(I,null),a(e,fe),a(e,g),a(g,V),a(g,me),a(g,G),a(G,b),a(b,J),le(w,J,null),a(b,de),a(b,Q),a(g,pe),r&&r.m(g,null),O=!0,_e||(Ce=[he(h,"click",Ye),he($,"click",n[4]),he($,"keypress",n[4])],_e=!0)},p(s,[i]){var x,R;(!O||i&1)&&S!==(S=s[0].name+"")&&we(q,S),(!O||i&1)&&L!==(L=((x=s[0].testrun.data)==null?void 0:x.quality)+"")&&we(W,L);let U=p;p=Se(s),p===U?N[p].p(s,i):(xe(),P(N[U],1,1,()=>{N[U]=null}),Oe(),_=N[p],_?_.p(s,i):(_=N[p]=Ee[p](s),_.c()),E(_,1),_.m(I,null)),(!O||i&1&&X!==(X="/chart_editor/"+s[0].testrun.id))&&d(b,"href",X),s[0].measurements.length>0&&s[2]&&((R=s[0].testrun.data)!=null&&R.vega_lite)?r?(r.p(s,i),i&1&&E(r,1)):(r=je(s),r.c(),E(r,1),r.m(g,null)):r&&(xe(),P(r,1,1,()=>{r=null}),Oe())},i(s){O||(E(D.$$.fragment,s),E(_),E(w.$$.fragment,s),E(r),O=!0)},o(s){P(D.$$.fragment,s),P(_),P(w.$$.fragment,s),P(r),O=!1},d(s){s&&f(e),re(D),N[p].d(),re(w),r&&r.d(),_e=!1,Be(Ce)}}}function Ye(n){}function Ze(n,e,l){var h;let{data:t}=e;const o={measurements:t.measurements},v=!!((h=t.testrun.data)!=null&&h.vega_lite),S=Ge();let q={theme:void 0,actions:{export:!0,source:!1,compiled:!0,editor:!1}};async function H(z){const M={type:"component",title:"Update Quality",body:"",meta:{testrun:t.testrun,method:"PUT"},component:"modalChangeDataQuality",response:async T=>{T&&S.close()}};S.trigger(M)}return n.$$set=z=>{"data"in z&&l(0,t=z.data)},[t,o,v,q,H]}class ut extends He{constructor(e){super(),Me(this,e,Ze,Xe,Re,{data:0})}}export{ut as component,ct as universal};
