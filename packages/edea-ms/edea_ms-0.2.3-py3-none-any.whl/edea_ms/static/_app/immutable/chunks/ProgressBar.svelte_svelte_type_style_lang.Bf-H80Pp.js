import{a as H,t as R}from"./index.mx9HPA7V.js";import{x as k,K as I}from"./scheduler.rpzzQWFm.js";import{w as z,r as A}from"./entry._s7cJYFV.js";function B(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function D(e,s){R(e,1,1,()=>{s.delete(e.key)})}function F(e,s){e.f(),D(e,s)}function G(e,s,t,r,f,h,c,g,w,i,l,M){let o=e.length,m=h.length,u=o;const p={};for(;u--;)p[e[u].key]=u;const S=[],L=new Map,v=new Map,_=[];for(u=m;u--;){const n=M(f,h,u),a=t(n);let d=c.get(a);d?r&&_.push(()=>d.p(n,s)):(d=i(a,n),d.c()),L.set(a,S[u]=d),a in p&&v.set(a,Math.abs(u-p[a]))}const y=new Set,b=new Set;function E(n){H(n,1),n.m(g,l),c.set(n.key,n),l=n.first,m--}for(;o&&m;){const n=S[m-1],a=e[o-1],d=n.key,P=a.key;n===a?(l=n.first,o--,m--):L.has(P)?!c.has(d)||y.has(d)?E(n):b.has(P)?o--:v.get(d)>v.get(P)?(b.add(d),E(n)):(y.add(P),o--):(w(a,c),o--)}for(;o--;){const n=e[o];L.has(n.key)||w(n,c)}for(;m;)E(S[m-1]);return k(_),S}const U={};function x(e){return e==="local"?localStorage:sessionStorage}function C(e,s,t){const r=(t==null?void 0:t.serializer)??JSON,f=(t==null?void 0:t.storage)??"local";function h(c,g){x(f).setItem(c,r.stringify(g))}if(!U[e]){const c=z(s,i=>{const l=x(f).getItem(e);l&&i(r.parse(l));{const M=o=>{o.key===e&&i(o.newValue?r.parse(o.newValue):null)};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)}}),{subscribe:g,set:w}=c;U[e]={set(i){h(e,i),w(i)},update(i){const l=i(I(c));h(e,l),w(l)},subscribe:g}}return U[e]}const Q=C("modeOsPrefers",!1),O=C("modeUserPrefers",void 0),j=C("modeCurrent",!1);function q(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return Q.set(e),e}function J(){return I(O)}function X(){const e=q(),s=J();return s!==void 0?s:e}function Y(e){O.set(e)}function Z(e){const s=document.documentElement.classList,t="dark";e===!0?s.remove(t):s.add(t),j.set(e)}function $(){const e=document.documentElement.classList,s=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),r=window.matchMedia("(prefers-color-scheme: dark)").matches;s||t&&r?e.add("dark"):e.remove("dark")}function ee(){const e=window.matchMedia("(prefers-color-scheme: light)");function s(t){const r=document.documentElement.classList,f="dark";t===!0?r.remove(f):r.add(f)}s(e.matches),e.onchange=()=>{s(e.matches)}}const V="(prefers-reduced-motion: reduce)";function K(){return window.matchMedia(V).matches}const se=A(K(),e=>{{const s=r=>{e(r.matches)},t=window.matchMedia(V);return t.addEventListener("change",s),()=>{t.removeEventListener("change",s)}}});export{Z as a,q as b,Y as c,ee as d,B as e,F as f,X as g,j as m,se as p,$ as s,G as u};
