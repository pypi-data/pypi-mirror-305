import{a as H,t as R}from"./index.DZ7RTCBW.js";import{x as k,K as I}from"./scheduler.C2stUBFB.js";import{w as A,r as D}from"./entry.iM0yFKKj.js";function B(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Q(e,t){R(e,1,1,()=>{t.delete(e.key)})}function F(e,t){e.f(),Q(e,t)}function G(e,t,n,r,f,h,c,g,w,i,l,M){let o=e.length,m=h.length,u=o;const P={};for(;u--;)P[e[u].key]=u;const p=[],L=new Map,v=new Map,C=[];for(u=m;u--;){const s=M(f,h,u),a=n(s);let d=c.get(a);d?C.push(()=>d.p(s,t)):(d=i(a,s),d.c()),L.set(a,p[u]=d),a in P&&v.set(a,Math.abs(u-P[a]))}const _=new Set,b=new Set;function E(s){H(s,1),s.m(g,l),c.set(s.key,s),l=s.first,m--}for(;o&&m;){const s=p[m-1],a=e[o-1],d=s.key,S=a.key;s===a?(l=s.first,o--,m--):L.has(S)?!c.has(d)||_.has(d)?E(s):b.has(S)?o--:v.get(d)>v.get(S)?(b.add(d),E(s)):(_.add(S),o--):(w(a,c),o--)}for(;o--;){const s=e[o];L.has(s.key)||w(s,c)}for(;m;)E(p[m-1]);return k(C),p}const U={};function x(e){return e==="local"?localStorage:sessionStorage}function y(e,t,n){const r=JSON,f="local";function h(c,g){x(f).setItem(c,r.stringify(g))}if(!U[e]){const c=A(t,i=>{const l=x(f).getItem(e);l&&i(r.parse(l));{const M=o=>{o.key===e&&i(o.newValue?r.parse(o.newValue):null)};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)}}),{subscribe:g,set:w}=c;U[e]={set(i){h(e,i),w(i)},update(i){const l=i(I(c));h(e,l),w(l)},subscribe:g}}return U[e]}const j=y("modeOsPrefers",!1),O=y("modeUserPrefers",void 0),q=y("modeCurrent",!1);function z(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return j.set(e),e}function J(){return I(O)}function X(){const e=z(),t=J();return t!==void 0?t:e}function Y(e){O.set(e)}function Z(e){const t=document.documentElement.classList,n="dark";e===!0?t.remove(n):t.add(n),q.set(e)}function $(){const e=document.documentElement.classList,t=localStorage.getItem("modeUserPrefers")==="false",n=!("modeUserPrefers"in localStorage),r=window.matchMedia("(prefers-color-scheme: dark)").matches;t||n&&r?e.add("dark"):e.remove("dark")}function ee(){const e=window.matchMedia("(prefers-color-scheme: light)");function t(n){const r=document.documentElement.classList,f="dark";n===!0?r.remove(f):r.add(f)}t(e.matches),e.onchange=()=>{t(e.matches)}}const V="(prefers-reduced-motion: reduce)";function K(){return window.matchMedia(V).matches}const te=D(K(),e=>{{const t=r=>{e(r.matches)},n=window.matchMedia(V);return n.addEventListener("change",t),()=>{n.removeEventListener("change",t)}}});export{Z as a,z as b,Y as c,ee as d,B as e,F as f,X as g,q as m,te as p,$ as s,G as u};
