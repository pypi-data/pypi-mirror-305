"use strict";(self.webpackChunkfirebird=self.webpackChunkfirebird||[]).push([[1899],{1899:(u,h,l)=>{l.r(h),l.d(h,{PlaygroundComponent:()=>p});var o=l(3973),d=l(6927),n=l(4438);const m=["rendererContainer"];let p=(()=>{class c{constructor(){this.lines=[],this.curves=[],this.trajectories=[[{x:0,y:0,z:0,time:1e3},{x:1,y:1,z:0,time:2e3},{x:2,y:0,z:1,time:3e3},{x:3,y:-1,z:0,time:4e3},{x:4,y:0,z:-1,time:5e3}],[{x:4,y:0,z:-1,time:5e3},{x:5,y:1,z:-1,time:6e3},{x:6,y:2,z:0,time:7e3},{x:7,y:1,z:1,time:8e3},{x:8,y:0,z:1,time:9e3}],[{x:8,y:0,z:1,time:5e3},{x:9,y:-1,z:1,time:6e3},{x:10,y:-2,z:0,time:7e3},{x:11,y:-1,z:-1,time:8e3},{x:12,y:0,z:-1,time:9e3}]]}ngOnInit(){}ngAfterViewInit(){this.initThreeJS(),this.initCurvesAndLines(),this.animate()}initThreeJS(){this.scene=new o.Z58,this.camera=new o.ubm(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.renderer=new o.JeP,this.renderer.setSize(window.innerWidth,window.innerHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement);const s=new o.Gu$(.1,32,32),e=new o.V9B({color:16711680});this.particle1=new o.eaF(s,e),this.particle2=new o.eaF(s,e),this.particle1.visible=!1,this.particle2.visible=!1,this.scene.add(this.particle1),this.scene.add(this.particle2)}initCurvesAndLines(){this.curves=this.trajectories.map(s=>new o.B6O(s.map(e=>new o.Pq0(e.x,e.y,e.z)))),this.curves.forEach(s=>{const e=s.getPoints(100),i=(new o.LoY).setFromPoints(e),t=new o.mrM({color:255}),r=new o.N1A(i,t);r.visible=!1,this.scene.add(r),this.lines.push(r)})}updateParticlePosition(s){if(s<1e3)return this.particle1.visible=!1,this.particle2.visible=!1,void this.lines.forEach(t=>t.visible=!1);this.particle1.visible=!0,this.particle2.visible=s>=5e3;let i=s-1e3;if(i<=4e3){this.lines[0].visible=!0;const t=i/4e3,r=this.curves[0].getPoint(t);this.particle1.position.copy(r);const a=this.curves[0].getPoints(Math.floor(100*t)+1);this.lines[0].geometry.setFromPoints(a)}if(i>=4e3&&i<=8e3){this.lines[1].visible=!0;const t=(i-4e3)/4e3,r=this.curves[1].getPoint(t);this.particle1.position.copy(r);const a=this.curves[1].getPoints(Math.floor(100*t)+1);this.lines[1].geometry.setFromPoints(a)}if(i>=4e3&&i<=8e3){this.lines[2].visible=!0;const t=(i-4e3)/4e3,r=this.curves[2].getPoint(t);this.particle2.position.copy(r);const a=this.curves[2].getPoints(Math.floor(100*t)+1);this.lines[2].geometry.setFromPoints(a)}}setAnimationTime(s){const i=parseInt(s.target.value,10);this.updateParticlePosition(i)}animate(){requestAnimationFrame(()=>this.animate()),d.yo(),this.renderer.render(this.scene,this.camera)}static{this.\u0275fac=function(e){return new(e||c)}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["app-playground"]],viewQuery:function(e,i){if(1&e&&n.GBs(m,5),2&e){let t;n.mGM(t=n.lsd())&&(i.rendererContainer=t.first)}},standalone:!0,features:[n.aNF],decls:6,vars:0,consts:[["rendererContainer",""],["id","controls"],["type","range","id","timeSlider","min","0","max","9000","step","10","value","0",3,"input"],[2,"border","solid 1px blue"]],template:function(e,i){if(1&e){const t=n.RV6();n.j41(0,"p"),n.EFF(1,"playground works!"),n.k0s(),n.j41(2,"div",1)(3,"input",2),n.bIt("input",function(a){return n.eBV(t),n.Njj(i.setAnimationTime(a))}),n.k0s()(),n.nrm(4,"div",3,0)}},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative}#controls[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:100}.renderer-container[_ngcontent-%COMP%]{width:100%;height:100%}"]})}}return c})()}}]);