(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7283689f"],{"0def":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("AutoRefresh",{attrs:{size:"small"},on:{refresh:t.getData}}),t._v(" "),n("el-divider"),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"log-content"},[t.content?n("pre",[t._v(t._s(t.content))]):n("div",[t._v("暂无数据")])])],1)},s=[],r=n("6194"),i=(n("5dce"),n("29ca")),c=n("ef1e"),u={name:"",props:[],components:{AutoRefresh:c["a"]},data:function(){return{scrapydServerId:"",project:"",spider:"",job:"",listLoading:!0,content:""}},computed:{},methods:{getData:function(){var t=Object(i["a"])(Object(r["a"])().mark((function t(){var e;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,this.$Http.scrapydJobLog({scrapydServerId:this.scrapydServerId,project:this.project,spider:this.spider,job:this.job});case 3:e=t.sent,this.content=e,this.listLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.project=this.$route.query.project,this.spider=this.$route.query.spider,this.job=this.$route.query.job,this.scrapydServerId=this.$route.query.scrapydServerId,this.getData()}},a=u,h=(n("eda9"),n("c9cd")),l=Object(h["a"])(a,o,s,!1,null,"52246602",null);e["default"]=l.exports},9220:function(t,e,n){},"9d12":function(t,e,n){},cfd7:function(t,e,n){"use strict";n("9220")},eda9:function(t,e,n){"use strict";n("9d12")},ef1e:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("el-button",{attrs:{size:"small"},on:{click:t.changeAutoRefresh}},[t._v(t._s(t.autoRefreshText))]),t._v(" "),n("span",{staticClass:"tips"},[t._v(t._s(t.countDownText))])],1)},s=[],r=(n("0ef1"),{name:"",props:{frequency:{type:Number,default:3e3}},components:{},data:function(){return{timer:null,countDown:0}},computed:{autoRefreshText:function(){return null==this.timer?"开启自动刷新":"关闭自动刷新"},countDownText:function(){return null==this.timer?"":(console.log(this.countDown),this.countDown+" 秒后自动刷新")}},methods:{autoRefresh:function(){console.log("refresh"),this.$emit("refresh"),this.resetCountDown()},countDownReduce:function(){this.countDown--},resetCountDown:function(){this.countDown=Math.ceil(.001*this.frequency)},openAutoRefresh:function(){var t=this;this.resetCountDown(),this.countDownTimer=setInterval((function(){t.countDownReduce()}),1e3),this.timer=setInterval((function(){t.autoRefresh()}),this.frequency),console.log("启动自动刷新")},closeAutoRefresh:function(){clearInterval(this.timer),clearInterval(this.countDownTimer),console.log("关闭自动刷新"),this.timer=null,this.countDownTimer=null},changeAutoRefresh:function(){this.timer?this.closeAutoRefresh():this.openAutoRefresh()}},beforeDestroy:function(){this.closeAutoRefresh()},created:function(){}}),i=r,c=(n("cfd7"),n("c9cd")),u=Object(c["a"])(i,o,s,!1,null,"3b21a7d2",null);e["a"]=u.exports}}]);