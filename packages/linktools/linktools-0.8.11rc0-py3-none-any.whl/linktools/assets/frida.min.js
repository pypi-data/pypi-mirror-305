(function(){function u(o,i,s){function l(n,e){if(!i[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var a=i[n]={exports:{}};o[n][0].call(a.exports,function(e){var t=o[n][1][e];return l(t||e)},a,a.exports,u,o,i,s)}return i[n].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}return u})()({1:[function(l,e,c){(function(s){(function(){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ScriptLoader=void 0;var a=l("./lib/log"),e=l("./lib/c"),o=l("./lib/java"),t=l("./lib/objc"),n=function(n){return function(){if(arguments.length>0){for(var e=pretty2String(arguments[0]),t=1;t<arguments.length;t++)e+=" ",e+=pretty2String(arguments[t]);n(e)}else n("")}};console.debug=n(a.d.bind(a)),console.info=n(a.i.bind(a)),console.warn=n(a.w.bind(a)),console.error=n(a.e.bind(a)),console.log=n(a.i.bind(a)),null!=s._setUnhandledExceptionCallback&&s._setUnhandledExceptionCallback(function(e){var t=void 0;if(e instanceof Error){var n=e.stack;void 0!==n&&(t=n)}if(Java.available){var r=o.getErrorStack(e);void 0!==r&&(void 0!==t?t+="\n\nCaused by: \n".concat(r):t=r)}a.exception(""+e,t)});var r=function(){function e(){}return e.prototype.load=function(e,t){for(var n=0,r=e;n<r.length;n++){var a=r[n];try{var o=a.filename;o=(o=o.replace(/[\/\\]/g,"$")).replace(/[^A-Za-z0-9_$]+/g,"_"),o="fn_".concat(o).substring(0,255),(0,eval)("(function ".concat(o,"(parameters) {").concat(a.source,"\n})\n")+"//# sourceURL=".concat(a.filename))(t)}catch(e){var i=e.hasOwnProperty("stack")?e.stack:e;throw new Error("Unable to load ".concat(a.filename,": ").concat(i))}}},e}();c.ScriptLoader=r;var i=new r;rpc.exports={loadScripts:i.load.bind(i)},Object.defineProperties(globalThis,{Log:{enumerable:!0,value:a},CHelper:{enumerable:!0,value:e},JavaHelper:{enumerable:!0,value:o},ObjCHelper:{enumerable:!0,value:t},isFunction:{enumerable:!1,value:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},ignoreError:{enumerable:!1,value:function(e,t){void 0===t&&(t=void 0);try{return e()}catch(e){return a.d("Catch ignored error. "+e),t}}},parseBoolean:{enumerable:!1,value:function(e,t){if(void 0===t&&(t=void 0),"boolean"==typeof e)return e;if("string"==typeof e){var n=e.toLowerCase();if("true"===n)return!0;if("false"===n)return!1}return t}},pretty2String:{enumerable:!1,value:function(e){return"string"!=typeof e&&(e=pretty2Json(e)),JSON.stringify(e)}},pretty2Json:{enumerable:!1,value:function(e){if(!(e instanceof Object))return e;if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(pretty2Json(e[n]));return t}return Java.available&&o.isJavaObject(e)?o.o.objectClass.toString.apply(e):ignoreError(function(){return e.toString()})}}})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./lib/c":2,"./lib/java":3,"./lib/log":4,"./lib/objc":5}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDescFromAddress=n.getDebugSymbolFromAddress=n.getEventImpl=n.hookFunction=n.hookFunctionWithCallbacks=n.hookFunctionWithOptions=n.getExportFunction=n.o=void 0;var c=e("./log"),r=function(){function e(){}return Object.defineProperty(e.prototype,"dlopen",{get:function(){return u(null,"dlopen","pointer",["pointer","int"])},enumerable:!1,configurable:!0}),e}();n.o=new r;var a=new ModuleMap,i={},o={};function u(e,t,n,r){var a=(e||"")+"|"+t;if(a in i)return i[a];var o=Module.findExportByName(e,t);if(null===o)throw Error("cannot find "+t);return i[a]=new NativeFunction(o,n,r),i[a]}function s(e,t,n){return l(e,t,d(n))}function l(e,r,t){var n=Module.findExportByName(e,r);if(null===n)throw Error("cannot find "+r);var a={get:function(e,t,n){return"name"===t?r:e[t]}},o={};"onEnter"in t&&(o.onEnter=function(e){t.onEnter.call(new Proxy(this,a),e)}),"onLeave"in t&&(o.onLeave=function(e){t.onLeave.call(new Proxy(this,a),e)});var i=Interceptor.attach(n,o);return c.i("Hook function: "+r+" ("+n+")"),i}function f(e,a,o,i,t){var s=u(e,a,o,i);if(null===s)throw Error("cannot find "+a);var l=isFunction(t)?t:d(t),n=i;Interceptor.replace(s,new NativeCallback(function(){for(var r=this,e=[],t=0;t<i.length;t++)e[t]=arguments[t];var n=new Proxy(s,{get:function(e,t,n){switch(t){case"name":return a;case"argumentTypes":return i;case"returnType":return o;case"context":return r.context;default:e[t]}},apply:function(e,t,n){return e.apply(null,n[0])}});return l.call(n,e)},o,n)),c.i("Hook function: "+a+" ("+s+")")}function d(e){var l={};if(l.method=parseBoolean(e.method,!0),l.thread=parseBoolean(e.thread,!1),l.stack=parseBoolean(e.stack,!1),l.symbol=parseBoolean(e.symbol,!0),l.backtracer=e.backtracer||"accurate",l.args=parseBoolean(e.args,!1),l.extras={},null!=e.extras)for(var t in e.extras)l.extras[t]=e.extras[t];var n=function(e){var t={};for(var n in l.extras)t[n]=l.extras[n];!1!==l.method&&(t.method_name=this.name),!1!==l.thread&&(t.thread_id=Process.getCurrentThreadId()),!1!==l.args&&(t.args=pretty2Json(e),t.result=null,t.error=null);try{var r=this(e);return!1!==l.args&&(t.result=pretty2Json(r)),r}catch(e){throw!1!==l.args&&(t.error=pretty2Json(e)),e}finally{if(!1!==l.stack)for(var a=t.stack=[],o="accurate"===l.backtracer?Backtracer.ACCURATE:Backtracer.FUZZY,i=Thread.backtrace(this.context,o),s=0;s<i.length;s++)a.push(g(i[s],!1!==l.symbol));c.event(t)}};return n.onLeave=function(e){var t={};for(var n in l.extras)t[n]=l.extras[n];if(!1!==l.method&&(t.method_name=this.name),!1!==l.thread&&(t.thread_id=Process.getCurrentThreadId()),!1!==l.args&&(t.result=pretty2Json(e)),!1!==l.stack)for(var r=t.stack=[],a="accurate"===l.backtracer?Backtracer.ACCURATE:Backtracer.FUZZY,o=Thread.backtrace(this.context,a),i=0;i<o.length;i++)r.push(g(o[i],!1!==l.symbol));c.event(t)},n}function v(e){var t=e.toString();return void 0===o[t]&&(o[t]=DebugSymbol.fromAddress(e)),o[t]}function g(e,t){if(t){var n=v(e);if(null!=n)return n.toString()}var r=a.find(e);return null!=r?"".concat(e," ").concat(r.name,"!").concat(e.sub(r.base)):"".concat(e)}n.getExportFunction=u,n.hookFunctionWithOptions=s,n.hookFunctionWithCallbacks=l,n.hookFunction=f,n.getEventImpl=d,n.getDebugSymbolFromAddress=v,n.getDescFromAddress=g},{"./log":4}],3:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getErrorStack=c.runOnCreateApplication=c.runOnCreateContext=c.traceClasses=c.chooseClassLoader=c.bypassSslPinning=c.setWebviewDebuggingEnabled=c.use=c.getStackTrace=c.getJavaEnumValue=c.fromJavaArray=c.isJavaArray=c.isJavaObject=c.getEventImpl=c.hookClass=c.hookAllMethods=c.hookAllConstructors=c.hookMethods=c.hookMethod=c.findClass=c.getClassMethod=c.getClassName=c.getObjectHandle=c.isSameObject=c.o=void 0;var s=e("./log"),n=function(){function e(){this.excludeHookPackages=["java.","javax.","android.","androidx."]}return Object.defineProperty(e.prototype,"objectClass",{get:function(){return Java.use("java.lang.Object")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classClass",{get:function(){return Java.use("java.lang.Class")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classLoaderClass",{get:function(){return Java.use("java.lang.ClassLoader")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stringClass",{get:function(){return Java.use("java.lang.String")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threadClass",{get:function(){return Java.use("java.lang.Thread")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throwableClass",{get:function(){return Java.use("java.lang.Throwable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uriClass",{get:function(){return Java.use("android.net.Uri")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"urlClass",{get:function(){return Java.use("java.net.URL")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapClass",{get:function(){return Java.use("java.util.Map")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hashSetClass",{get:function(){return Java.use("java.util.HashSet")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationContext",{get:function(){return Java.use("android.app.ActivityThread").currentApplication().getApplicationContext()},enumerable:!1,configurable:!0}),e}();function r(e,t){return e===t||null!=e&&null!=t&&(!!e.hasOwnProperty("$isSameObject")&&e.$isSameObject(t))}function l(e){return null==e?null:e.hasOwnProperty("$h")?e.$h:void 0}function u(e){var t=e.$className;if(null!=t)return t;if(null!=(t=e.__name__))return t;if(null!=e.$classWrapper){if(null!=(t=e.$classWrapper.$className))return t;if(null!=(t=e.$classWrapper.__name__))return t}s.e("Cannot get class name: "+e)}function f(e,t){var n=e[t];return void 0!==n||"$"==t[0]&&void 0!==(n=e["_"+t])?n:void 0}function d(e,t){if(void 0===t&&(t=void 0),void 0!==t&&null!=t)return Java.ClassFactory.get(t).use(e);if(parseInt(Java.androidVersion)<7)return Java.use(e);for(var n=null,r=0,a=Java.enumerateClassLoadersSync();r<a.length;r++){var o=a[r];try{var i=d(e,o);if(null!=i)return i}catch(e){null==n&&(n=e)}}throw n}function i(e,t,n,r){void 0===r&&(r=null);var a=t;if("string"==typeof a){var o=a,i=e;"string"==typeof i&&(i=d(i));var s=f(i,o);if(void 0===s||void 0===s.overloads)throw Error("Cannot find method: "+u(i)+"."+o);if(null!=n){var l=n;for(var c in l)"string"!=typeof l[c]&&(l[c]=u(l[c]));a=s.overload.apply(s,l)}else{if(1!=s.overloads.length)throw Error(u(i)+"."+o+" has too many overloads");a=s.overloads[0]}}L(a),N(a,r)}function v(e,t,n){void 0===n&&(n=null);var r=e;"string"==typeof r&&(r=d(r));var a=f(r,t);if(void 0===a||void 0===a.overloads)throw Error("Cannot find method: "+u(r)+"."+t);for(var o=0;o<a.overloads.length;o++){var i=a.overloads[o];void 0!==i.returnType&&void 0!==i.returnType.className&&(L(i),N(i,n))}}function a(e,t){void 0===t&&(t=null);var n=e;"string"==typeof n&&(n=d(n)),v(n,"$init",t)}function o(e,t){void 0===t&&(t=null);var n=e;"string"==typeof n&&(n=d(n));for(var r=[],a=null,o=n.class;null!=o;){for(var i=o.getDeclaredMethods(),s=0;s<i.length;s++){var l=i[s].getName();r.indexOf(l)<0&&(r.push(l),v(n,l,t))}if(a=o.getSuperclass(),o.$dispose(),null==a)break;if(T((o=Java.cast(a,c.o.classClass)).getName()))break}}function g(e,t){void 0===t&&(t=null);var n=e;"string"==typeof n&&(n=d(n)),a(n,t),o(n,t)}function p(e){var o={};if(o.method=parseBoolean(e.method,!0),o.thread=parseBoolean(e.thread,!1),o.stack=parseBoolean(e.stack,!1),o.args=parseBoolean(e.args,!1),o.extras={},null!=e.extras)for(var t in e.extras)o.extras[t]=e.extras[t];return function(e,t){var n={};for(var r in o.extras)n[r]=o.extras[r];!1!==o.method&&(n.class_name=e.$className,n.method_name=this.name,n.method_simple_name=this.methodName),!1!==o.thread&&(n.thread_id=Process.getCurrentThreadId(),n.thread_name=c.o.threadClass.currentThread().getName()),!1!==o.args&&(n.args=pretty2Json(t),n.result=null,n.error=null);try{var a=this(e,t);return!1!==o.args&&(n.result=pretty2Json(a)),a}catch(e){throw!1!==o.args&&(n.error=pretty2Json(e)),e}finally{!1!==o.stack&&(n.stack=pretty2Json(k())),s.event(n)}}}function h(e){if(e instanceof Object&&e.hasOwnProperty("class")&&e.class instanceof Object){var t=e.class;if(t.hasOwnProperty("getName")&&t.hasOwnProperty("getDeclaredClasses")&&t.hasOwnProperty("getDeclaredFields")&&t.hasOwnProperty("getDeclaredMethods"))return!0}return!1}function b(e){if(e instanceof Object&&e.hasOwnProperty("class")&&e.class instanceof Object){var t=e.class;if(t.hasOwnProperty("isArray")&&t.isArray())return!0}return!1}function m(e,t){var n=e;"string"==typeof n&&(n=d(n));for(var r=[],a=Java.vm.getEnv(),o=0;o<a.getArrayLength(t.$handle);o++)r.push(Java.cast(a.getObjectArrayElement(t.$handle,o),n));return r}function y(e,t){var n=e;"string"==typeof n&&(n=d(n));var r=n.class.getEnumConstants();r instanceof Array||(r=m(n,r));for(var a=0;a<r.length;a++)if(r[a].toString()===t)return r[a];throw new Error("Name of "+t+" does not match "+n)}function k(e){void 0===e&&(e=void 0);for(var t=[],n=(e||c.o.throwableClass.$new()).getStackTrace(),r=0;r<n.length;r++)t.push(n[r]);return t}c.o=new n,c.isSameObject=r,c.getObjectHandle=l,c.getClassName=u,c.getClassMethod=f,c.findClass=d,c.hookMethod=i,c.hookMethods=v,c.hookAllConstructors=a,c.hookAllMethods=o,c.hookClass=g,c.getEventImpl=p,c.isJavaObject=h,c.isJavaArray=b,c.fromJavaArray=m,c.getJavaEnumValue=y,c.getStackTrace=k;var C=null;function S(o){var r=c.o.hashSetClass.$new(),a=function(n){for(var a,e=o.entries(),t=function(){var e=a.value[0],t=a.value[1],r=null;try{r=d(e,n)}catch(e){}null!=r&&(o.delete(e),t.forEach(function(e,t,n){try{e(r)}catch(e){s.w("Call JavaHelper.use callback error: "+e)}}))};!(a=e.next()).done;)t()},e=c.o.classClass,t=c.o.classLoaderClass;i(e,"forName",["java.lang.String","boolean",t],function(e,t){var n=t[2];return null==n||r.contains(n)||(r.add(n),a(n)),this(e,t)}),i(t,"loadClass",["java.lang.String","boolean"],function(e,t){var n=e;return r.contains(n)||(r.add(n),a(n)),this(e,t)})}function O(t,n){var e=null;try{e=d(t)}catch(e){var r;if(null==C&&S(C=new Map),C.has(t))void 0!==(r=C.get(t))&&r.add(n);else(r=new Set).add(n),C.set(t,r);return}try{n(e)}catch(t){s.w("Call JavaHelper.use callback error: "+t)}}function w(){s.w("Android Enable Webview Debugging"),ignoreError(function(){var n=d("android.webkit.WebView");v(n,"setWebContentsDebuggingEnabled",function(e,t){return s.d("".concat(n,".setWebContentsDebuggingEnabled: ").concat(t[0])),t[0]=!0,this(e,t)}),v(n,"loadUrl",function(e,t){return s.d("".concat(n,".loadUrl: ").concat(t[0])),n.setWebContentsDebuggingEnabled(!0),this(e,t)})}),ignoreError(function(){var n=d("com.uc.webview.export.WebView");v(n,"setWebContentsDebuggingEnabled",function(e,t){return s.d("".concat(n,".setWebContentsDebuggingEnabled: ").concat(t[0])),t[0]=!0,this(e,t)}),v(n,"loadUrl",function(e,t){return s.d("".concat(n,".loadUrl: ").concat(t[0])),n.setWebContentsDebuggingEnabled(!0),this(e,t)})})}function j(){s.w("Android Bypass ssl pinning");var n=Java.use("java.util.Arrays");ignoreError(function(){return v("com.android.org.conscrypt.TrustManagerImpl","checkServerTrusted",function(e,t){if(s.d("SSL bypassing "+this),"void"!=this.returnType.type)return"pointer"==this.returnType.type&&"java.util.List"==this.returnType.className?n.asList(t[0]):void 0})}),ignoreError(function(){return v("com.google.android.gms.org.conscrypt.Platform","checkServerTrusted",function(e,t){s.d("SSL bypassing "+this)})}),ignoreError(function(){return v("com.android.org.conscrypt.Platform","checkServerTrusted",function(e,t){s.d("SSL bypassing "+this)})}),ignoreError(function(){return v("okhttp3.CertificatePinner","check",function(e,t){if(s.d("SSL bypassing "+this),"boolean"==this.returnType.type)return!0})}),ignoreError(function(){return v("okhttp3.CertificatePinner","check$okhttp",function(e,t){s.d("SSL bypassing "+this)})}),ignoreError(function(){return v("com.android.okhttp.CertificatePinner","check",function(e,t){if(s.d("SSL bypassing "+this),"boolean"==this.returnType.type)return!0})}),ignoreError(function(){return v("com.android.okhttp.CertificatePinner","check$okhttp",function(e,t){s.d("SSL bypassing "+this)})}),ignoreError(function(){return v("com.android.org.conscrypt.TrustManagerImpl","verifyChain",function(e,t){return s.d("SSL bypassing "+this),t[0]})})}function E(t){s.w("choose classloder: "+t),Java.enumerateClassLoaders({onMatch:function(e){try{null!=e.findClass(t)&&(s.i("choose classloader: "+e),Reflect.set(Java.classFactory,"loader",e))}catch(e){s.e(pretty2Json(e))}},onComplete:function(){s.d("enumerate classLoaders complete")}})}function x(n,r,a){void 0===r&&(r=void 0),void 0===a&&(a=void 0),n=null!=n?n.trim().toLowerCase():"",r=null!=r?r.trim().toLowerCase():"",a=null!=a?a:{stack:!0,args:!0},s.w("trace classes, include: "+n+", exclude: "+r+", options: "+JSON.stringify(a)),Java.enumerateLoadedClasses({onMatch:function(e){var t=e.toString().toLowerCase();t.indexOf(n)>=0&&(""==r||t.indexOf(r)<0)&&o(e,p(a))},onComplete:function(){s.d("enumerate classLoaders complete")}})}function _(r){v("android.app.ContextImpl","createAppContext",function(e,t){var n=this(e,t);return r(n),n})}function P(r){v("android.app.LoadedApk","makeApplication",function(e,t){var n=this(e,t);return r(n),n})}function J(e){if(e.startsWith("[L")&&e.endsWith(";"))return"".concat(e.substring(2,e.length-1),"[]");if(e.startsWith("["))switch(e.substring(1,2)){case"B":return"byte[]";case"C":return"char[]";case"D":return"double[]";case"F":return"float[]";case"I":return"int[]";case"S":return"short[]";case"J":return"long[]";case"Z":return"boolean[]";case"V":return"void[]"}return e}function L(e){Object.defineProperties(e,{className:{configurable:!0,enumerable:!0,writable:!1,value:u(e.holder)},name:{configurable:!0,enumerable:!0,get:function(){var e=J(this.returnType.className),t=J(this.className)+"."+this.methodName,n="";if(this.argumentTypes.length>0){n=J(this.argumentTypes[0].className);for(var r=1;r<this.argumentTypes.length;r++)n=n+", "+J(this.argumentTypes[r].className)}return e+" "+t+"("+n+")"}},toString:{configurable:!0,value:function(){return this.name}}})}function N(e,t){if(void 0===t&&(t=null),null!=t){var n=new Proxy(e,{apply:function(e,t,n){var r=n[0],a=n[1];return e.apply(r,a)}}),r=isFunction(t)?t:p(t);e.implementation=function(){return r.call(n,this,Array.prototype.slice.call(arguments))},s.i("Hook method: "+e)}else e.implementation=null,s.i("Unhook method: "+e)}function T(e){for(var t in c.o.excludeHookPackages)if(0==e.indexOf(c.o.excludeHookPackages[t]))return!0;return!1}function A(e){try{var t=l(e);if(void 0!==t){for(var n=Java.cast(t,c.o.throwableClass),r=[],a=0,o=k(n);a<o.length;a++){var i=o[a];r.push("    at ".concat(i))}return r.length>0?"".concat(n,"\n").concat(r.join("\n")):"".concat(n)}}catch(e){s.d("getErrorStack error: ".concat(e))}}c.use=O,c.setWebviewDebuggingEnabled=w,c.bypassSslPinning=j,c.chooseClassLoader=E,c.traceClasses=x,c.runOnCreateContext=_,c.runOnCreateApplication=P,c.getErrorStack=A},{"./log":4}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.exception=n.event=n.e=n.w=n.i=n.d=n.setLevel=n.getLevel=n.ERROR=n.WARNING=n.INFO=n.DEBUG=void 0,n.DEBUG=1,n.INFO=2,n.WARNING=3,n.ERROR=4;var r=n.INFO,a=[],o=null;function i(){return r}function s(e){r=e,l("Set log level: "+e)}function l(e,t){r<=n.DEBUG&&g("log",{level:"debug",message:e},t)}function c(e,t){r<=n.INFO&&g("log",{level:"info",message:e},t)}function u(e,t){r<=n.WARNING&&g("log",{level:"warning",message:e},t)}function f(e,t){r<=n.ERROR&&g("log",{level:"error",message:e},t)}function d(e,t){g("msg",e,t)}function v(e,t){g("error",{description:e,stack:t})}function g(e,t,n){var r={};r[e]=t,null==n?(a.push(r),a.length>=50?p():null===o&&(o=setTimeout(p,50))):(p(),send({$events:[r]},n))}function p(){if(null!==o&&(clearTimeout(o),o=null),0!==a.length){var e=a;a=[],send({$events:e})}}n.getLevel=i,n.setLevel=s,n.d=l,n.i=c,n.w=u,n.e=f,n.event=d,n.exception=v},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bypassSslPinning=n.convert2ObjcObject=n.getEventImpl=n.hookMethods=n.hookMethod=void 0;var f=e("./log"),d=e("./c");function r(e,t,n){void 0===n&&(n=null);var r=e;if("string"==typeof r&&(r=ObjC.classes[r]),void 0===r)throw Error('cannot find class "'+e+'"');var a=t;if("string"==typeof a&&(a=r[a]),void 0===a)throw Error('cannot find method "'+t+'" in class "'+r+'"');l(r,a),c(a,n)}function a(e,t,n){void 0===n&&(n=null);var r=e;if("string"==typeof r&&(r=ObjC.classes[r]),void 0===r)throw Error('cannot find class "'+e+'"');for(var a=r.$ownMethods.length,o=0;o<a;o++){var i=r.$ownMethods[o];if(i.indexOf(t)>=0){var s=r[i];l(r,s),c(s,n)}}}function o(e){var u={};if(u.method=parseBoolean(e.method,!0),u.thread=parseBoolean(e.thread,!1),u.stack=parseBoolean(e.stack,!1),u.symbol=parseBoolean(e.symbol,!0),u.backtracer=e.backtracer||"accurate",u.args=parseBoolean(e.args,!1),u.extras={},null!=e.extras)for(var t in e.extras)u.extras[t]=e.extras[t];return function(e,t){var n={};for(var r in u.extras)n[r]=u.extras[r];if(!1!==u.method&&(n.class_name=new ObjC.Object(e).$className,n.method_name=this.name,n.method_simple_name=this.methodName),!1!==u.thread&&(n.thread_id=Process.getCurrentThreadId(),n.thread_name=ObjC.classes.NSThread.currentThread().name().toString()),!1!==u.args){for(var a=[],o=0;o<t.length;o++)a.push(v(t[o]));n.args=pretty2Json(a),n.result=null,n.error=null}try{var i=this(e,t);return!1!==u.args&&(n.result=pretty2Json(v(i))),i}catch(e){throw!1!==u.args&&(n.error=pretty2Json(e)),e}finally{if(!1!==u.stack){var s=n.stack=[],l="accurate"===u.backtracer?Backtracer.ACCURATE:Backtracer.FUZZY,c=Thread.backtrace(this.context,l);for(o=0;o<c.length;o++)s.push(d.getDescFromAddress(c[o],!1!==u.symbol))}f.event(n)}}}function v(e){return e instanceof NativePointer||"object"==typeof e&&e.hasOwnProperty("handle")?new ObjC.Object(e):e}function i(){f.w("iOS Bypass ssl pinning");try{Module.ensureInitialized("libboringssl.dylib")}catch(e){f.d("libboringssl.dylib module not loaded. Trying to manually load it."),Module.load("libboringssl.dylib")}var t=new NativeCallback(function(e,t){return f.d("custom SSL context verify callback, returning SSL_VERIFY_NONE"),0},"int",["pointer","pointer"]);try{d.hookFunction("libboringssl.dylib","SSL_set_custom_verify","void",["pointer","int","pointer"],function(e){return f.d("SSL_set_custom_verify(), setting custom callback."),e[2]=t,this(e)})}catch(e){d.hookFunction("libboringssl.dylib","SSL_CTX_set_custom_verify","void",["pointer","int","pointer"],function(e){return f.d("SSL_CTX_set_custom_verify(), setting custom callback."),e[2]=t,this(e)})}d.hookFunction("libboringssl.dylib","SSL_get_psk_identity","pointer",["pointer"],function(e){return f.d('SSL_get_psk_identity(), returning "fakePSKidentity"'),Memory.allocUtf8String("fakePSKidentity")})}function l(e,t){var n=t.origImplementation||t.implementation,r=e.toString(),a=ObjC.selectorAsString(t.selector),o=ObjC.classes.NSThread.hasOwnProperty(a);Object.defineProperties(t,{className:{configurable:!0,enumerable:!0,get:function(){return r}},methodName:{configurable:!0,enumerable:!0,get:function(){return a}},name:{configurable:!0,enumerable:!0,get:function(){return(o?"+":"-")+"["+r+" "+a+"]"}},origImplementation:{configurable:!0,enumerable:!0,get:function(){return n}},toString:{value:function(){return this.name}}})}function c(a,e){if(void 0===e&&(e=null),null!=e){var i=isFunction(e)?e:o(e);a.implementation=ObjC.implement(a,function(){var r=this,e=Array.prototype.slice.call(arguments),t=e.shift(),o=e.shift(),n=new Proxy(a,{get:function(e,t,n){return t in r?r[t]:e[t]},apply:function(e,t,n){var r=n[0],a=n[1];return e.origImplementation.apply(null,[].concat(r,o,a))}});return i.call(n,t,e)}),f.i("Hook method: "+a)}else a.implementation=a.origImplementation,f.i("Unhook method: "+pretty2String(a))}n.hookMethod=r,n.hookMethods=a,n.getEventImpl=o,n.convert2ObjcObject=v,n.bypassSslPinning=i},{"./c":2,"./log":4}]},{},[1]);